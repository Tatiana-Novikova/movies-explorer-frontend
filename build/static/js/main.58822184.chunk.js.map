{"version":3,"sources":["contexts/CurrentUserContext.js","components/Form/Form.js","images/logo.svg","components/Login/Login.js","images/navigation__profile-icon.svg","components/Navigation/Navigation.js","components/Header/Header.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/about-me__photo.jpg","components/Contacts/Contacts.js","components/Portfolio/Portfolio.js","components/AboutMe/AboutMe.js","components/Footer/Footer.js","components/Main/Main.js","utils/AuthApi.js","utils/MainApi.js","utils/MoviesApi.js","components/SearchForm/SearchForm.js","components/Movie/Movie.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/PageNotFound/PageNotFound.js","components/Profile/Profile.js","components/ProtectedRoute/ProtectedRoute.js","components/Register/Register.js","components/Popup/Popup.js","components/DeleteCardPopup/DeleteCardPopup.js","components/SavedMovies/SavedMovies.js","utils/FormValidator.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Form","props","className","containsAnyForms","title","onSubmit","noValidate","autoComplete","containsAnyInputs","children","disabled","name","type","onFocus","onEmailFocus","onChange","onEmailChange","required","value","emailValue","isEmailDirty","id","emailErrorMessage","onPasswordFocus","onPasswordChange","passwordValue","isPasswordDirty","passwordErrorMessage","formSubmitErrorMessage","isNameValid","isEmalValid","isPasswordValid","buttonText","caption","to","linkEndpoit","linkText","Login","src","logo","alt","containsAnyImages","e","preventDefault","onLogin","nameValue","nameErrorMessage","isEmailValid","Navigation","path","loggedIn","htmlFor","exact","activeClassName","icon","Header","NavTab","href","Promo","AboutProject","Techs","Contacts","parentClassName","target","rel","Portfolio","AboutMe","photo","Footer","Date","getFullYear","Main","AuthApi","options","this","_address","address","_headers","res","ok","json","Promise","reject","status","email","password","fetch","method","credentials","headers","body","JSON","stringify","then","_checkResponse","catch","error","console","log","userInfo","BASE_MOVIE_URL","MainApi","movie","country","director","duration","year","description","image","url","trailer","trailerLink","nameRU","nameEN","thumbnail","formats","movieId","MoviesApi","SearchForm","useState","searchQuery","setSearchQuery","onFormSubmit","placeholder","checked","filterCheckboxState","onFilterCheckboxChange","Movie","saveBtnState","setSaveBtnState","isOnSavedMovies","window","location","pathname","isOnMovies","isSaved","isSavedCheck","movieToRender","Math","floor","onClick","handleSaveOrDeleteClick","Preloader","MoviesCardList","moviesToRender","i","maxMoviesNum","moviesToPrerenderList","push","length","isLoading","map","handleShowMoreClick","Movies","setFilterCheckboxState","filteredMovies","setFilteredMovies","setMaxMoviesNum","useEffect","handleMoviesFiltration","movies","onSearch","innerWidth","PageNotFound","Profile","currentUser","useContext","setName","setEmail","userData","onEditProfile","onSignOut","ProtectedRoute","Component","component","Register","onRegister","onNameChange","onNameFocus","isNameDirty","Popup","isPopupOpened","handleEscapeClose","key","onPopupClose","document","addEventListener","removeEventListener","currentTarget","formTitle","DeleteCardPopup","isDeleteCardPopupOpened","onDeleteCard","cardToDelete","SavedMovies","filteredSavedMovies","setFilteredSavedMovies","savedMovies","isGridFiltered","onClose","setCardToDelete","useInput","initialValue","validations","isDirty","setIsDirty","setValue","valid","isInputValid","setIsInputValid","setIsNameValid","setIsEmailValid","setIsPasswordValid","errorMessage","setErrorMessage","validation","test","String","toLowerCase","useValidation","App","history","useHistory","movieToDelete","setMovieToDelete","setCurrentUser","setMovies","setIsLoading","setLoggedIn","setFormSubmitErrorMessage","searchedMovies","setSearchedMovies","setSavedMovies","savedMoviesSearchResponse","setSavedMoviesSearchResponse","isAppLoading","setIsAppLoading","formValidator","handleGetCurrentUser","getCurrentUser","handleGetMovies","getMovies","localStorage","setItem","finally","handleGetSavedMovies","getSavedMovies","handleSearchMovies","filter","includes","some","savedMovie","handleDeleteMovie","handleSaveMovie","saveMovie","movieToDeleteData","deleteMovie","_id","getItem","all","token","storageMovies","parse","storageSavedMovies","removeItem","Provider","register","login","data","user","editProfile","clear","logout","setTimeout","searchResponse","setPreloader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.58822184.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUser = {};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\n\nfunction Form (props) {\n  \n  return (\n    <div className={`${props.containsAnyForms \n      ? 'form-container' \n      : 'form-container_hidden'}\n    `}>\n      <h2 className='form__title'>{props.title}</h2>\n      <form \n        className='form'\n        onSubmit={props.onSubmit}\n        noValidate\n        autoComplete='off'\n      >\n        <div className={`${props.containsAnyInputs ? 'form__inputs' : 'form__inputs_hidden'}`}>\n          {props.children}\n          <div className=\"form__section\">\n            <label className='form__input-label'>E-mail</label>\n            <input\n              className='form__input'\n              disabled={false}\n              name='email' \n              type='email'\n              onFocus={props.onEmailFocus}\n              onChange={props.onEmailChange}\n              required\n              value={props.emailValue}\n            />\n            {(props.emailValue && props.isEmailDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.emailErrorMessage}\n            </span>}\n          </div>\n          <div>\n          <label className='form__input-label'>Пароль</label>\n            <input\n              className='form__input'\n              disabled={false}\n              name='password' \n              type='password'\n              onFocus={props.onPasswordFocus}\n              onChange={props.onPasswordChange}\n              required\n              value={props.passwordValue}\n            />\n            {(props.passwordValue && props.isPasswordDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.passwordErrorMessage}\n            </span>}\n          </div>\n        </div>\n        <label className='form__submit-btn-container'>\n          <span className=\"form__submit-error-message\">\n            {props.formSubmitErrorMessage}\n          </span>\n          <button\n            className={`form__submit-btn opacity-transition\n              ${props.isNameValid && props.isEmalValid && props.isPasswordValid\n                ? 'form__submit-btn_active'\n                : 'form__submit-btn_disabled'\n              }\n            `}\n            type='submit'\n            disabled={props.isNameValid && props.isEmalValid && props.isPasswordValid\n            ? false\n            : true\n          }\n          >\n            {props.buttonText}\n          </button>\n          <p className='form__link-caption'>\n            {props.caption} \n            <Link to={`${props.linkEndpoit}`} className='form__auth-link'>\n              {props.linkText}\n            </Link>\n          </p>\n        </label>\n      </form>\n    </div>\n  )\n}\n\nexport default Form;\n","export default __webpack_public_path__ + \"static/media/logo.2629e1f9.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Form from '../Form/Form';\nimport logo from '../../images/logo.svg';\n\nfunction Login (props) {\n  function handleSubmit (e) {\n    e.preventDefault();\n    props.onLogin(props.emailValue, props.passwordValue);\n  }\n\n  return (\n    <div className='page_type_auth'>\n     <Link to='/'> \n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link> \n      <Form\n        buttonText='Войти'\n        caption='Ещё не зарегистрированы?'\n        containsAnyImages={false}\n        containsAnyInputs={true}\n        containsAnyForms={true}\n        linkText='Регистрация'\n        linkEndpoit='/signup'\n        title='Рады видеть!'\n        onSubmit={handleSubmit}\n        formSubmitErrorMessage={props.formSubmitErrorMessage}\n        emailValue={props.emailValue}\n        nameValue={props.nameValue}\n        passwordValue={props.passwordValue}\n        emailErrorMessage={props.emailErrorMessage}\n        nameErrorMessage={props.nameErrorMessage}\n        passwordErrorMessage={props.passwordErrorMessage}\n        onEmailFocus={props.onEmailFocus}\n        onEmailChange={props.onEmailChange}\n        onPasswordFocus={props.onPasswordFocus}\n        onPasswordChange={props.onPasswordChange}\n        isEmailDirty={props.isEmailDirty}\n        isPasswordDirty={props.isPasswordDirty}\n        isNameValid={true}\n        isEmalValid={props.isEmailValid}\n        isPasswordValid={props.isPasswordValid}\n      />\n    </div>\n  )\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/navigation__profile-icon.3486dc2f.svg\";","import React from 'react';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport './Navigation.css';\nimport icon from '../../images/navigation__profile-icon.svg';\n\nfunction Navigation (props) {\n  return ( \n    <nav className='navigation'>\n      <Switch>\n        <Route path='/'>\n          <div className={`\n            ${!props.loggedIn \n              ? 'navigation__links_visible'\n              : 'navigation__links_hidden' \n            }`}\n          >\n            <div className='navigation__links-not-auth'>\n              <NavLink \n                to='signup'\n                className='navigation__link'\n              >\n                Регистрация\n              </NavLink>\n              <NavLink \n                to='signin' \n                className='navigation__link navigation__link_type_signin'\n              >\n                Войти\n              </NavLink>\n            </div>\n          </div>\n          <input id='navigation__menu-toggle' type='checkbox'/>\n          <label\n            className={`\n            ${props.loggedIn \n              ? 'navigation__menu-btn'\n              : 'navigation__menu-btn_hidden' \n            }`}\n            htmlFor='navigation__menu-toggle'\n          >\n            <span className='navigation__menu-btn-line'></span>\n\t        </label>\n          <section className='navigation__menu'>\n            <div className='navigation__menu-background'></div>\n            <div className='navigation__menu-container'>\n              <div className={`\n                ${props.loggedIn\n                  ? 'navigation__links_visible'\n                  : 'navigation__links_hidden' \n                }`}\n              >\n                <div className='navigation__links-auth'>\n                  <NavLink \n                    exact to='/' \n                    className='navigation__link navigation__link_type_main'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Главная\n                  </NavLink>\n                  <NavLink \n                    to='/movies' \n                    className='navigation__link'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Фильмы\n                  </NavLink>\n                  <NavLink \n                    to='saved-movies' \n                    className='navigation__link'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Сохранённые фильмы\n                  </NavLink>\n                </div>\n                <NavLink \n                  to='profile' \n                  className='navigation__link navigation__link_type_profile'\n                  activeClassName=\"navigation__link_active\"\n                >\n                  Аккаунт\n                  <img className='navigation__profile-icon' \n                    src={icon} \n                    alt='иконка со ссылкой на страницу профиля'\n                  />\n                </NavLink>\n              </div>\n            </div>\n          </section>\n        </Route>\n      </Switch>\n    </nav>\n  );\n}\n\nexport default Navigation\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.css';\nimport Navigation from '../Navigation/Navigation';\nimport logo from '../../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className='header'>\n      <Link to='/' className='header__link'>\n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link>\n      <Navigation loggedIn={props.loggedIn}/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './NavTab.css';\n\nfunction NavTab () {\n  return ( \n    <ul className='nav-tab'>\n      <li className='nav-tab__item'>\n        <a href='#about-project' className='nav-tab__link'>О проекте</a>\n      </li>\n      <li className='nav-tab__item'>\n        <a href='#techs' className='nav-tab__link'>Технологии</a>\n      </li>\n      <li className='nav-tab__item'>\n        <a href='#about-me' className='nav-tab__link'>Студент</a>\n      </li>\n    </ul>\n  );\n}\n\nexport default NavTab","import React from 'react';\nimport './Promo.css';\nimport NavTab from '../NavTab/NavTab';\n\nfunction Promo () {\n  return ( \n    <section className='promo'>\n      <h1 className='promo__title'>Учебный проект студента факультета Веб-разработки.</h1>\n      <NavTab/>\n    </section>\n  );\n}\n\nexport default Promo","import React from 'react';\nimport './AboutProject.css';\n\nfunction AboutProject () {\n  return ( \n    <section className='about-project' id='about-project'>\n      <h2 className='app__section-title '>О проекте</h2>\n      <div className='about-project__info'>\n        <div className='about-project__stages'>\n          <h3 className='about-project__heading'>\n            Дипломный проект включал 5 этапов\n          </h3>\n          <p className='about-project__text'>\n            Составление плана, работу над бэкендом, вёрстку, добавление \n            функциональности и финальные доработки.\n          </p>\n        </div>\n        <div className='about-project__stages'>\n          <h3 className='about-project__heading'>\n            На выполнение диплома ушло 5 недель\n          </h3>\n          <p className='about-project__text'>\n            У каждого этапа был мягкий и жёсткий дедлайн, \n            которые нужно было соблюдать, чтобы успешно защититься.\n          </p>\n        </div>\n      </div>\n      <div className='about-project__scale'>\n        <p className='about-project__scale-value'>1 неделя</p>\n        <p className='about-project__scale-value'>4 недели</p>\n      </div>\n      <div className='about-project__scale-captures'>\n        <p className='about-project__scale-capture'>Back-end</p>\n        <p className='about-project__scale-capture'>Front-end</p> \n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject\n","import React from 'react';\nimport './Techs.css';\n\nfunction Techs () {\n  return ( \n    <section className='techs' id='techs'>\n      <h2 className='app__section-title '>Технологии</h2>\n      <h3 className='techs__title techs__heading'>7 технологий</h3>\n      <p className='techs__capture'>\n        На курсе веб-разработки мы освоили технологии, \n        которые применили в дипломном проекте.\n      </p>\n      <ul className='techs__list'>\n        <li className='techs__list-item'>HTML</li>\n        <li className='techs__list-item'>CSS</li>\n        <li className='techs__list-item'>JS</li>\n        <li className='techs__list-item'>React</li>\n        <li className='techs__list-item'>Git</li>\n        <li className='techs__list-item'>Express.js</li>\n        <li className='techs__list-item'>mongoDB</li>\n      </ul>\n    </section>\n  );\n}\n\nexport default Techs","export default __webpack_public_path__ + \"static/media/about-me__photo.c3de3540.jpg\";","import React from 'react';\nimport './Contacts.css';\n\nfunction Contacts (props) {\n  return (\n    <ul className={`${props.parentClassName === 'about-me' \n    ? 'contacts contacts-reversed' \n    : 'contacts contacts_place_footer'}\n  `}>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item_hidden' \n        : 'contacts__item contacts__item_place_footer'}\n      `}>\n        <a className='contacts__link' \n          href='https://practicum.yandex.ru/'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Яндекс.Практикум\n        </a>\n      </li>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item' \n        : 'contacts__item contacts__item_place_footer'}\n      `}>\n        <a className={`contacts__link\n          ${props.parentClassName === 'about-me' \n            ? 'contacts__link_place_about-me' \n            : 'contacts__link_place_footer'}\n        `}\n          href='https://github.com/Tatiana-Novikova'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Github\n        </a>\n      </li>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item' \n        : 'contacts__item_place_footer'}\n      `}>\n        <a className={`contacts__link\n          ${props.parentClassName === 'about-me' \n            ? 'contacts__link_place_about-me' \n            : 'contacts__link_place_footer'}\n        `}\n          href='https://www.facebook.com/tanya.novikova.3597'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Facebook\n        </a>\n      </li>\n    </ul>\n  );\n}\n\nexport default Contacts;\n","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio () {\n  return ( \n    <section className='portfolio'>\n      <h3 className='portfolio__heading'>Портфолио</h3>\n      <ul className='portfolio__links'>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://github.com/Tatiana-Novikova/how-to-learn'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Статичный сайт\n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://tatiana-novikova.github.io/russian-travel/'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Адаптивный сайт \n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://mesto-project.students.nomoredomains.club/'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Одностраничное приложение\n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n      </ul>    \n    </section>\n  );\n}\n\nexport default Portfolio\n","import React from 'react';\nimport './AboutMe.css';\nimport photo from '../../images/about-me__photo.jpg';\nimport Contacts from '../Contacts/Contacts';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction AboutMe () {\n  return ( \n    <section className='about-me' id='about-me'>\n      <h2 className='app__section-title '>Студент</h2>\n      <div className='about-me__student-info'>\n        <div className='about-me__student-info-container'>\n          <div>\n            <h3 className='about-me__name'>Татьяна</h3>\n            <p className='about-me__capture'>\n              Фронтенд-разработчик, 28 лет\n            </p>\n            <p className='about-me__text'>\n              Я родилась и живу в Москве, закончила факультет менеджмента МЭСИ. \n              Люблю слушать музыку, петь и учусь играть на укулеле. \n              Ещё со школы люблю информатику и вот недавно начала кодить.\n              Чтобы научиться этому и найти работу в новой профессии, выбрала Яндекс практикум.\n            </p>\n          </div>\n          <Contacts parentClassName='about-me'/>\n        </div>\n        <img \n          className='about-me__photo'\n          alt='фотография студента'\n          src={photo}\n        />\n      </div>\n      <Portfolio/>\n    </section>\n  );\n}\n\nexport default AboutMe\n","import React from 'react';\nimport './Footer.css';\nimport Contacts from '../Contacts/Contacts';\n\nfunction Footer () {\n  return (\n    <footer className='footer'>\n      <p className='footer__project-info'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\n        <div className='footer__copyrights'>\n          <p className='footer__date'>\n          &copy; {new Date().getFullYear()}\n          </p>\n          <Contacts parentClassName='footer'/>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport Header from '../Header/Header';\nimport Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Footer from '../Footer/Footer';\n\nfunction Main (props) {\n  return ( \n    <main className='main'>\n      <Header loggedIn={props.loggedIn}/>\n      <Promo/>\n      <AboutProject/>\n      <Techs/>\n      <AboutMe/>\n      <Footer/>\n    </main>\n  );\n}\n\nexport default Main\n","class Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n \n  register(name, email, password) { \n    return fetch(`${this._address}/signup`, { \n      method: 'POST', \n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({ name, email, password }),\n    })\n    .then(this._checkResponse)\n  }\n  \n  login(email, password) { \n    return fetch(`${this._address}/signin`, { \n      method: 'POST',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({ email, password }) \n    }) \n    .then(this._checkResponse)\n  }\n\n  logout() {\n    return fetch(`${this._address}/signout`, {\n      method: 'DELETE',\n      credentials: 'include',\n    })\n    .then(this._checkResponse)\n    .catch((error) => {\n      console.log(error);\n    });\n  };\n\n  getCurrentUser() {\n    return fetch(`${this._address}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then(this._checkResponse);\n  }\n\n  editProfile(userInfo) {\n    return fetch(`${this._address}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        name: userInfo.name,\n        email: userInfo.email,\n      }),\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst AuthApi = new Api ({\n  address: 'https://api.movies-explorer.nomoredomains.work',\n  // address: 'http://localhost:3000',\n})\n\nexport default AuthApi;\n","const BASE_MOVIE_URL = 'https://api.nomoreparties.co';\n\nclass Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getCurrentUser() {\n    return fetch(`${this._address}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then(this._checkResponse);\n  }\n\n  getSavedMovies() {\n    return fetch(`${this._address}/movies`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  saveMovie(movie) {\n    return fetch(`${this._address}/movies`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        country: movie.country,\n        director: movie.director,\n        duration: movie.duration,\n        year: movie.year,\n        description: movie.description,\n        image: BASE_MOVIE_URL + movie.image.url,\n        trailer: movie.trailerLink,\n        nameRU: movie.nameRU,\n        nameEN: movie.nameEN,\n        thumbnail: BASE_MOVIE_URL + movie.image.formats.thumbnail.url,\n        movieId: movie.id,\n      }),\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteMovie(id) {\n    return fetch(`${this._address}/movies/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n}\n\nconst MainApi = new Api ({\n  address: 'https://api.movies-explorer.nomoredomains.work',\n  // address: 'http://localhost:3000',\n})\n\nexport default MainApi;\n","class Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getMovies() {\n    return fetch(this._address, {\n      method: 'GET',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n}\n  \nconst MoviesApi = new Api ({\n  address: 'https://api.nomoreparties.co/beatfilm-movies',\n})\n  \nexport default MoviesApi;\n","import React from 'react';\nimport './SearchForm.css';\n\nfunction SearchForm (props) {\n  const [searchQuery, setSearchQuery] = React.useState('');\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    props.onFormSubmit(searchQuery);\n  }\n\n  return (\n    <form \n    className='search-form'\n    onSubmit={handleSearch}\n    noValidate \n    autoComplete='off'\n  > \n    <div className='search-form__container'>\n      <div className='search-form__icon'></div> \n        <div className='search-form__input-container'>\n          <input\n            className='search-form__input'\n            id='query' \n            name='query' \n            type='text'\n            placeholder='Фильм'\n            onChange={ (e) => setSearchQuery(e.target.value) }\n            value={searchQuery}\n            required\n          />\n          <button\n            className={`search-form__submit-btn opacity-transition\n              ${(searchQuery !== '')\n                ? 'search-form__submit-btn_active'\n                : 'search-form__submit-btn_disabled'\n              }\n            `} \n            type='submit'\n            disabled={(searchQuery !== '') ? false : true\n            }\n          >\n            Найти\n          </button>\n        </div>\n      <label className='search-form__filter' htmlFor='checkbox-toggle'>\n        <input \n          className='search-form__checkbox'\n          type='checkbox'\n          checked={props.filterCheckboxState}\n          onChange={props.onFilterCheckboxChange}\n          id='checkbox-toggle'\n          disabled={false}\n        />\n        <span className='search-form__checkbox-capture'>Короткометражки</span>\n      </label>\n    </div>\n  </form>\n  );\n}\n\nexport default SearchForm\n","import React from 'react'; \nimport './Movie.css';\n\nfunction Movie (props) {\n  const [saveBtnState, setSaveBtnState] = React.useState(false);\n  const isOnSavedMovies = window.location.pathname === '/saved-movies';\n  const isOnMovies = window.location.pathname === '/movies';\n  const isSaved = props.isSavedCheck(props.movieToRender);\n\n  const handleSaveCardClick = () => {\n    setSaveBtnState(!saveBtnState);\n    props.handleSaveOrDeleteClick(props.movieToRender, isSaved);\n  }\n\n  return (\n    <article>\n     <a className=\"movie__link\" \n        href={isOnSavedMovies \n          ? `${props.movieToRender.trailer}`\n          : `${props.movieToRender.trailerLink}`\n        }\n        target=\"_blank\" \n        rel=\"noreferrer\"\n      >\n        <img \n          className='movie__image' \n          src={isOnMovies\n            ? 'https://api.nomoreparties.co' + props.movieToRender.image.url\n            :  props.movieToRender.image\n          } \n          alt={props.movieToRender.nameRU}\n        />\n      </a>\n      <div className='movie__info'>\n        <div className='movie__main'>\n          <h2 className='movie__title'>{props.movieToRender.nameRU}</h2>\n          <span className='movie__duration'>\n            {Math.floor(props.movieToRender.duration/60)}ч{props.movieToRender.duration%60}м\n          </span>\n        </div>\n          <button\n            className={`\n              ${isSaved\n                ? 'movie__btn_active'\n                : 'movie__btn_disabled' \n              }\n              ${isOnMovies\n                ? 'movie__btn_type_save'\n                : 'movie__btn_type_delete'\n              }\n            `}\n            type='button' \n            aria-label='Сохранить/Удалить' \n            onClick={handleSaveCardClick}\n          >\n          </button>\n      </div>\n    </article>\n  )\n}\n\nexport default Movie;\n","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div>\n    </div>\n  )\n};\n\nexport default Preloader\n","import React from 'react';\nimport './MoviesCardList.css';\nimport Movie from '../Movie/Movie';\nimport Preloader from '../Preloader/Preloader';\n\nfunction MoviesCardList (props) {\n  let moviesToRender = [];\n\n  for (let i = 0; i < props.maxMoviesNum; i++) {\n    if (props.moviesToPrerenderList[i]) {\n      moviesToRender.push(props.moviesToPrerenderList[i]);\n    }\n  }\n\n  // window.addEventListener(\"optimizedResize\", function() {\n  //   console.log(\"Resource conscious resize callback!\");\n  // });\n\n  return (\n    <section className={`${moviesToRender.length === 0\n      ? `movies-cards-list_hidden` \n      : `movies-cards-list`}\n    `}>\n      {props.isLoading && (<Preloader/>)}\n      <ul className='movies-cards-grid'>\n        {moviesToRender.map((movieToRender) => {\n          return (\n            <li key={movieToRender.movieId || movieToRender.id}>\n              <Movie\n                handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n                isSavedCheck={props.isSavedCheck}\n                movieToRender={movieToRender}\n              />\n            </li>\n          )\n        })}\n      </ul>\n      <button \n        className={`${moviesToRender.length <= props.maxMoviesNum\n          ? `movies-cards-list__btn` \n          : `movies-cards-list__btn_hidden`\n        }`}\n        type='button' \n        aria-label='Показать больше фильмов' \n        onClick={props.handleShowMoreClick}\n        disabled={false}\n      >\n        Ещё\n      </button>\n    </section>\n  );\n}\n\nexport default MoviesCardList\n","import React from 'react';\nimport './Movies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\n\nfunction Movies (props) {\n  const [filterCheckboxState, setFilterCheckboxState] = React.useState(false);\n  const [filteredMovies, setFilteredMovies] = React.useState([]);\n  const [maxMoviesNum, setMaxMoviesNum] = React.useState(4);\n  \n  React.useEffect(() => {\n    if (filterCheckboxState) {\n      setFilteredMovies(props.handleMoviesFiltration(props.movies));\n    }\n  },[filterCheckboxState]);\n\n  const handleShowMoreClick = () => {\n    window.innerWidth >= 1280\n      ? setMaxMoviesNum(maxMoviesNum + 4)\n      : setMaxMoviesNum(maxMoviesNum + 2);\n  }\n\n  return ( \n    <section className='movies'>\n      <Header loggedIn={props.loggedIn}/>\n      <SearchForm\n        filterCheckboxState={filterCheckboxState}\n        onFilterCheckboxChange={() => setFilterCheckboxState(!filterCheckboxState)}\n        onFormSubmit={props.onSearch}\n      />\n      <p className={`${props.movies.length === 0\n        ? `movies__caption` \n        : `movies__caption_hidden`}\n      `}>\n        Чтобы найти фильм, введите запрос\n      </p>\n      <MoviesCardList\n        isLoading={props.isLoading}\n        isSavedCheck={props.isSavedCheck}\n        handleMoviesFiltration={props.handleMoviesFiltration}\n        handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n        handleShowMoreClick={handleShowMoreClick}\n        maxMoviesNum={maxMoviesNum}\n        moviesToPrerenderList={filterCheckboxState ? filteredMovies : props.movies}\n      />\n      <Footer/>\n    </section>\n  );\n}\n\nexport default Movies\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './PageNotFound.css';\n\nfunction PageNotFound () {\n  return (\n    <div className='not-found'>\n      <h3 className='not-found__title'>404</h3>\n      <span className='not-found__text'>Страница не найдена</span>\n      <Link className='not-found__button' to='/'>Назад</Link>\n    </div>\n  )\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Profile.css';\nimport Header from '../Header/Header';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Profile (props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(currentUser.name);\n  const [email, setEmail] = React.useState(currentUser.email);\n\n  const handleEditProfile = (e) => {\n    e.preventDefault();\n    const userData = {name, email};\n    props.onEditProfile(userData);\n  }\n\n  return ( \n    <div className='page-container'>\n      <Header loggedIn={props.loggedIn}/>\n      <section className='profile'>\n        <h2 className='profile__title'>Привет, {currentUser.name}!</h2>\n        <form \n          className='profile__user-info-container'\n          onSubmit={handleEditProfile}\n        >\n          <div className='profile__user-info'>\n            <p className='profile__user-info_data'>Имя</p>\n            <input \n              className='profile__input'\n              disabled={false}\n              name='name' \n              type='text'\n              onChange={(e) => setName(e.target.value)}\n              required\n              value={name|| ''}\n            />\n          </div>\n          <div className='profile__user-info'>\n            <p className='profile__user-info_data'>E-mail</p>\n            <input \n              className='profile__input'\n              disabled={false}\n              name='email' \n              type='email'\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              value={email || ''}\n            />\n          </div>\n          <button\n            className='profile__edit-button'\n            type='submit'\n            aria-label='Редактировать'\n          >\n            Редактировать\n          </button>\n          <Link to='/' \n            className='profile__link'\n            onClick={props.onSignOut}\n          >\n            Выйти из аккаунта\n          </Link>\n        </form>\n      </section>\n    </div>\n  );\n}\n\nexport default Profile\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() => props.loggedIn \n          ? <Component {...props}/> \n          : <Redirect to='/' />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Form from '../Form/Form';\nimport logo from '../../images/logo.svg';\n\nfunction Register (props) {\n    \n  function handleSubmit (e) {\n    e.preventDefault();\n    props.onRegister(props.nameValue, props.emailValue, props.passwordValue);\n  }\n\n  return (\n    <div className='page_type_auth'>\n      <Link to='/'> \n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link>\n      <Form\n        buttonText='Зарегистрироваться'\n        caption='Уже зарегистрированы?'\n        containsAnyImages={false}\n        containsAnyInputs={true}\n        containsAnyForms={true}\n        linkText='Войти'\n        linkEndpoit='/signin'\n        title='Добро пожаловать!'\n        onSubmit={handleSubmit}\n        formSubmitErrorMessage={props.formSubmitErrorMessage}\n        emailValue={props.emailValue}\n        nameValue={props.nameValue}\n        passwordValue={props.passwordValue}\n        emailErrorMessage={props.emailErrorMessage}\n        nameErrorMessage={props.nameErrorMessage}\n        passwordErrorMessage={props.passwordErrorMessage}\n        onEmailFocus={props.onEmailFocus}\n        onEmailChange={props.onEmailChange}\n        onPasswordFocus={props.onPasswordFocus}\n        onPasswordChange={props.onPasswordChange}\n        isEmailDirty={props.isEmailDirty}\n        isPasswordDirty={props.isPasswordDirty}\n        isNameValid={props.isNameValid}\n        isEmalValid={props.isEmailValid}\n        isPasswordValid={props.isPasswordValid}\n      >\n        <div className=\"form__section\">\n          <label className='form__input-label'>Имя</label>\n          <input\n            className='form__input'\n            disabled={false}\n            name='name'\n            onChange={props.onNameChange}\n            onFocus={props.onNameFocus}\n            type='text'\n            required\n            value={props.nameValue}\n          />\n          {(props.nameValue && props.isNameDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.nameErrorMessage}\n            </span>}\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default Register;\n","import React from 'react';\nimport Form from '../Form/Form';\nimport './Popup.css';\n\nfunction Popup (props) {\n\n  React.useEffect(() => {\n    if (!props.isPopupOpened) return;\n    const handleEscapeClose = (e) => {\n      if (e.key === 'Escape') {\n        props.onPopupClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscapeClose);\n    return() => {\n      document.removeEventListener('keydown', handleEscapeClose);\n    };\n  }, [props]);\n\n  const handleOverlayClose = (e) => {\n    if (e.target === e.currentTarget && props.isPopupOpened) {\n      props.onPopupClose();\n    }\n  }\n  \n  return (\n    <section \n      className= {`popup ${props.isPopupOpened ? 'popup_opened' : ''}`}\n      onClick={handleOverlayClose}\n    >\n      <div className={`popup__content ${props.containsAnyImages \n        ? 'popup__content_type_no-paddings'\n        : 'popup__content'}\n      `}>\n        <button \n          className={`popup__close-button opacity-transition`} \n          type='button' \n          aria-label='Закрыть'\n          onClick ={props.onPopupClose}\n        />\n        <Form\n          title={props.formTitle}\n          buttonText={props.buttonText}\n          onNameChange={props.onNameChange}\n          onEmailChange={props.onEmailChange}\n          onFormSubmit={props.onFormSubmit}\n          containsAnyInputs={props.containsAnyInputs}\n          containsAnyForms={props.containsAnyForms}\n        >\n        \n        </Form>\n        {props.children}\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;","import React from 'react';\nimport Popup from '../Popup/Popup';\n\nfunction DeleteCardPopup (props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDeleteCard(props.cardToDelete);\n  }\n\n  return (\n    <Popup\n      buttonText='Да'\n      containsAnyImages={false}\n      containsAnyInputs={false}\n      containsAnyForms={true}\n      formTitle='Вы уверены?'\n      isPopupOpened={props.isDeleteCardPopupOpened}\n      onPopupClose={props.onPopupClose}\n      onFormSubmit={handleSubmit}\n    >\n    </Popup>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from 'react';\nimport './SavedMovies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport DeleteCardPopup from '../DeleteCardPopup/DeleteCardPopup';\n\nfunction SavedMovies (props) {\n  const [filterCheckboxState, setFilterCheckboxState] = React.useState(false);\n  const [filteredSavedMovies, setFilteredSavedMovies] = React.useState([]);\n  // const [seachedMoviesLength, setSeachedMoviesLength] = React.useState(0);\n  const [maxMoviesNum, setMaxMoviesNum] = React.useState(16);\n  \n  React.useEffect(() => {\n    if (filterCheckboxState) {\n      setFilteredSavedMovies(props.handleMoviesFiltration(props.savedMovies));\n    }\n  },[filterCheckboxState]);\n\n  const handleShowMoreClick = () => {\n    window.innerWidth >= 1280\n      ? setMaxMoviesNum(maxMoviesNum + 4)\n      : setMaxMoviesNum(maxMoviesNum + 2);\n  }\n\n  return ( \n    <section className='saved-movies'>\n      <Header loggedIn={props.loggedIn}/>\n      <SearchForm\n        filterCheckboxState={filterCheckboxState}\n        onFilterCheckboxChange={() => setFilterCheckboxState(!filterCheckboxState)}\n        onFormSubmit={props.onSearch}\n      />\n      <p className={`${props.savedMovies.length === 0\n        ? `saved-movies__caption` \n        : `saved-movies__caption_hidden`}\n      `}>\n        Чтобы найти фильм, введите запрос\n      </p>\n      <MoviesCardList\n        cardToDelete={props.cardToDelete}\n        handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n        handleShowMoreClick={handleShowMoreClick}\n        isGridFiltered={filterCheckboxState}\n        isLoading={props.isLoading}\n        isSavedCheck={props.isSavedCheck}\n        loggedIn={props.loggedIn}\n        maxMoviesNum={maxMoviesNum}\n        moviesToPrerenderList={filterCheckboxState ? filteredSavedMovies : props.savedMovies}\n        onClose={props.onClose}\n      />\n      <Footer/>\n      <DeleteCardPopup \n        isDeleteCardPopupOpened={props.isDeleteCardPopupOpened} \n        onPopupClose={props.onPopupClose}\n        setCardToDelete={props.setCardToDelete}\n      />  \n    </section>\n  );\n}\n\nexport default SavedMovies\n","import React from 'react';\n\nexport const useValidation = (value, validations) => {\n  const [isInputValid, setIsInputValid] = React.useState(false);\n  const [isNameValid, setIsNameValid] = React.useState(false);\n  const [isEmailValid, setIsEmailValid] = React.useState(false);\n  const [isPasswordValid, setIsPasswordValid] = React.useState(false);\n  const [errorMessage, setErrorMessage] = React.useState('');\n\n  React.useEffect(() => {\n    for (const validation in validations) {\n      switch (validation) {\n        case 'isEmailValid':\n          const reForEmail = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\n          if (reForEmail.test(String(value).toLowerCase())) {\n            setIsEmailValid(true);\n            setErrorMessage('');\n          } else {\n            setIsEmailValid(false);\n            setErrorMessage('Неправильный формат почты');\n          };\n          break;\n        case 'isNameValid':\n          const reForName = /^[А-Яа-я/A-Za-z -]+$/;\n          if (!reForName.test(String(value))) {\n            setIsEmailValid(false);\n            setErrorMessage('Используйте только латиницу, кириллицу, дефис и пробел');\n          } else {\n            setIsEmailValid(true);\n            setErrorMessage('');\n          };\n          break;\n        case 'isPasswordValid':\n          if (value.length < 6) {\n            setIsPasswordValid(false);\n            setErrorMessage('Пароль должен включать не менее 6 символов');\n          } else {\n            setIsPasswordValid(true);\n            setErrorMessage('');\n          };\n          break;\n        default:\n          setIsNameValid(false);\n          setIsEmailValid(false);\n          setIsPasswordValid(false);\n      }\n    }\n  }, [value])\n\n  React.useEffect(() => {\n    if (isNameValid || isEmailValid || isPasswordValid) {\n      setIsInputValid(true);\n    } else {\n      setIsInputValid(false);\n    }\n  }, [isNameValid, isEmailValid, isPasswordValid])\n\n  return {\n    isInputValid,\n    isNameValid,\n    isEmailValid,\n    isPasswordValid,\n    errorMessage,\n  }\n}\n\nexport const useInput = (initialValue, validations) => {\n  const [isDirty, setIsDirty] = React.useState(false);\n  const [value, setValue] = React.useState(initialValue);\n  const valid = useValidation(value, validations);\n\n    const onChange = (e) => {\n      setValue(e.target.value);\n    }\n\n    const onFocus = (e) => {\n      setIsDirty(true);\n    }\n  \n  return {\n    value,\n    onChange,\n    onFocus,\n    isDirty,\n    ...valid\n  }\n}\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\nimport { useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nimport Login from '../Login/Login';\nimport Main from '../Main/Main';\nimport AuthApi from '../../utils/AuthApi';\nimport MainApi from '../../utils/MainApi';\nimport MoviesApi from '../../utils/MoviesApi';\nimport Movies from '../Movies/Movies';\nimport PageNotFound from '../PageNotFound/PageNotFound';\nimport Preloader from '../Preloader/Preloader';\nimport Profile from '../Profile/Profile';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport Register from '../Register/Register';\nimport SavedMovies from '../SavedMovies/SavedMovies';\n\nimport * as formValidator from '../../utils/FormValidator';\n\nfunction App() {\n  const history = useHistory();\n  const location = window.location.pathname;\n  const [movieToDelete, setMovieToDelete] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [movies, setMovies] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [formSubmitErrorMessage, setFormSubmitErrorMessage] = React.useState('');\n  const [searchedMovies, setSearchedMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [savedMoviesSearchResponse, setSavedMoviesSearchResponse] = React.useState('');\n  const [isAppLoading, setIsAppLoading] = React.useState(true);\n\n  const name = formValidator\n    .useInput('', {\n      isNameValid: true,\n  });\n  const email = formValidator\n    .useInput('', {\n      isEmailValid: true\n  });\n  const password = formValidator\n    .useInput('', {\n      isPasswordValid: true,\n  });\n\n  const handleTokenCheck = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      AuthApi.getCurrentUser() \n      .then((res) => { \n        if (res) {\n          setCurrentUser(res);\n          setLoggedIn(true);\n          history.push(location);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        localStorage.removeItem('token');\n        history.push('/');\n      })\n    }\n  }\n\n  const handleRegisterSubmit = (name, email, password) => {\n    AuthApi.register(name, email, password)\n    .then((res) => {\n      history.push('/movies');\n    })\n    .catch((error) => {\n      if (error === 409) {\n        setFormSubmitErrorMessage('Пользователь c таким email уже существует');\n      }\n      if (error === 400) {\n        setFormSubmitErrorMessage('Переданы некорректные данные');\n      }\n      if (error === 500) {\n        setFormSubmitErrorMessage('Ошибка сервера');\n      }\n    });\n  }\n\n  const handleLoginSubmit = (email, password) => {\n    AuthApi.login(email, password)\n    .then((data) => {\n      localStorage.setItem('token', data.token);\n      setLoggedIn(true);\n      history.push('/movies');\n      handleGetCurrentUser();\n    })\n    .catch((error) => {\n      if (error === 401) {\n        setFormSubmitErrorMessage('Передан неверный логин или пароль');\n      }\n      if (error === 400) {\n        setFormSubmitErrorMessage('Переданы некорректные данные');\n      }\n      if (error === 500) {\n        setFormSubmitErrorMessage('Ошибка сервера');\n      }\n      setLoggedIn(false);\n    });\n  }\n\n  const handleSignOut = () => {\n    setCurrentUser({ email: '', name: ''});\n    localStorage.clear();\n    setSearchedMovies([]);\n    AuthApi.logout()\n      .then(() => {\n        setLoggedIn(false);\n        history.push('/');\n      })\n      .catch((error) => console.log(error));\n  }\n\n  const closeAllPopups = () => {\n    setMovieToDelete(null);\n  }\n\n  const handleEditProfileSubmit = (user) => {\n    AuthApi.editProfile(user)\n    .then((userData) => {\n      setCurrentUser(userData);\n    })\n    .catch((error) => {\n      if(error === 400) {\n        setFormSubmitErrorMessage('Переданы некорректные данные');\n      }\n      if(error === 409) {\n        setFormSubmitErrorMessage('Пользователь с таким email уже существует');\n      }\n      if(error === 500) {\n        setFormSubmitErrorMessage('Ошибка сервера');\n      }\n    })\n  }\n\n  const handleGetCurrentUser = () => {\n    AuthApi.getCurrentUser()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  const handleGetMovies = () => {\n    if (loggedIn) {\n      MoviesApi.getMovies()\n       .then((res) => {\n         localStorage.setItem('movies', JSON.stringify(res));\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  }\n\n  const handleGetSavedMovies = () => {\n    if (loggedIn) {\n      MainApi.getSavedMovies()\n        .then((res) => {\n          setSavedMovies(res);\n          localStorage.setItem('savedMovies', JSON.stringify(res));\n        })\n        .catch((error) => {\n          console.log(error);\n          localStorage.setItem('savedMovies', JSON.stringify([]));\n      });\n    }\n  } \n\n  const handleSearchMovies = (movies, searchQuery) => {\n    const filteredMovies = movies.filter(movie => (movie.nameRU.includes(searchQuery)));\n    if (filteredMovies.length === 0 && location === '/saved-movies') {\n      setSavedMoviesSearchResponse('Фильмов по запросу не найдено.');\n    } else {\n      setSavedMoviesSearchResponse('');\n    }\n    return filteredMovies;\n  }\n\n  const handleMoviesFiltration = () => {\n    const durationFilteredMovies = searchedMovies.filter((movie) => movie.duration <= 40);\n    return durationFilteredMovies;\n  }\n\n  const handleSearchMoviesSubmit = (searchQuery) => {\n    handleGetMovies();\n    setTimeout(() => setIsLoading(false), 1000);\n    setSearchedMovies(handleSearchMovies(movies, searchQuery));\n    localStorage\n      .setItem('lastSearchedMovies', JSON.stringify(handleSearchMovies(movies, searchQuery)));\n  }\n\n  const handleSearchSavedMoviesSubmit = (searchQuery) => {\n    setTimeout(() => setIsLoading(false), 1000);\n    const storageSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    setSavedMovies(handleSearchMovies(storageSavedMovies, searchQuery));\n  }\n\n  const isSavedCheck = (movie) => {\n    const isMovieSaved = savedMovies\n      .some(savedMovie => {\n        return movie.id === savedMovie.movieId || movie.movieId === savedMovie.movieId;\n      })\n    return isMovieSaved;\n  }\n\n  const handleSaveOrDeleteClick = (movie, isSaved) => {\n    if (isSaved) {\n      handleDeleteMovie(movie);\n    } else {\n      handleSaveMovie(movie);\n    }\n  }\n\n  const handleSaveMovie = (movie) => {\n    MainApi.saveMovie(movie)\n      .then((res) => {\n        setSavedMovies([...savedMovies, res]);\n        handleGetSavedMovies();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  const handleDeleteMovie = (movieToDeleteData) => {\n    if(!movieToDeleteData.movieId) {\n      const movieToDelete = savedMovies.filter((movie) => movie.movieId === movieToDeleteData.id);\n      movieToDeleteData = movieToDelete[0];\n    }\n    MainApi.deleteMovie(movieToDeleteData._id) \n      .then((res) => {\n        setSavedMovies(savedMovies.filter((movie) => movie.id !== movieToDeleteData._id));\n        handleGetSavedMovies();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if(token) {\n      setLoggedIn(true);\n      Promise.all([AuthApi.getCurrentUser(), MainApi.getSavedMovies()])\n        .then(([userInfo, savedMovies]) => {\n          setCurrentUser(userInfo);\n          setSavedMovies(savedMovies);\n          setIsAppLoading(false);\n          handleGetSavedMovies();\n        })\n        .catch((error) => {\n          console.log(`Ошибка: ${error}`);\n        })\n        .finally(() => {\n          setIsAppLoading(false);\n        })\n    } else {\n      setIsAppLoading(false);\n    }\n  },[loggedIn])\n\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    const storageMovies = JSON.parse(localStorage.getItem('movies'));\n    const storageSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const searchedMovies = JSON.parse(localStorage.getItem('lastSearchedMovies'));\n    \n    if (storageMovies) {\n      setMovies(storageMovies);\n      if (searchedMovies) {\n        setSearchedMovies(searchedMovies);\n      }\n    } else {\n      handleGetMovies();\n    }\n    if (storageSavedMovies) {\n      setSavedMovies(storageSavedMovies)\n    } else if(token) {\n      handleGetSavedMovies();\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  return(\n    isAppLoading ? <Preloader isLoading={isAppLoading} /> : \n    <div className='page-container'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route exact path='/'>\n            <Main\n              loggedIn={loggedIn}\n            />\n          </Route>\n          <Route path='/signup'>\n            <Register\n              onRegister={handleRegisterSubmit}\n              emailValue={email.value}\n              formSubmitErrorMessage={formSubmitErrorMessage}\n              nameValue={name.value}\n              passwordValue={password.value}\n              emailErrorMessage={email.errorMessage}\n              nameErrorMessage={name.errorMessage}\n              passwordErrorMessage={password.errorMessage}\n              onEmailFocus={e => email.onFocus(e)}\n              onEmailChange={e => email.onChange(e)}\n              onNameFocus={e => name.onFocus(e)}\n              onNameChange={e => name.onChange(e)}\n              onPasswordFocus={e => password.onFocus(e)}\n              onPasswordChange={e => password.onChange(e)}\n              isEmailDirty={email.isDirty}\n              isNameDirty={name.isDirty}\n              isPasswordDirty={password.isDirty}\n              isEmailValid={email.isInputValid}\n              isNameValid={name.isInputValid}\n              isPasswordValid={password.isInputValid}\n            />\n          </Route>\n          <Route path='/signin'>\n            <Login \n              onLogin={handleLoginSubmit}\n              emailValue={email.value}\n              formSubmitErrorMessage={formSubmitErrorMessage}\n              nameValue={name.value}\n              passwordValue={password.value}\n              emailErrorMessage={email.errorMessage}\n              nameErrorMessage={name.errorMessage}\n              passwordErrorMessage={password.errorMessage}\n              onEmailFocus={e => email.onFocus(e)}\n              onEmailChange={e => email.onChange(e)}\n              onNameFocus={e => name.onFocus(e)}\n              onNameChange={e => name.onChange(e)}\n              onPasswordFocus={e => password.onFocus(e)}\n              onPasswordChange={e => password.onChange(e)}\n              isEmailDirty={email.isDirty}\n              isNameDirty={name.isDirty}\n              isPasswordDirty={password.isDirty}\n              isEmailValid={email.isInputValid}\n              isNameValid={name.isInputValid}\n              isPasswordValid={password.isInputValid}\n            />\n          </Route>\n          <ProtectedRoute\n            component={Profile}\n            path='/profile'\n            nameValue={name.value}\n            emailValue={email.value}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileSubmit}\n            onSignOut={handleSignOut}\n          />\n          <ProtectedRoute\n            component={Movies}\n            path='/movies'\n            loggedIn={loggedIn}\n            movies={searchedMovies}\n            onSearch={handleSearchMoviesSubmit}\n            handleMoviesFiltration={handleMoviesFiltration}\n            handleSaveOrDeleteClick={handleSaveOrDeleteClick}\n            isSavedCheck={isSavedCheck}\n            setIsLoading={setIsLoading}\n          />\n          <ProtectedRoute\n            component={SavedMovies}\n            path='/saved-movies'\n            cardToDelete={movieToDelete}\n            isLoading={isLoading}\n            isDeleteCardPopupOpened={!!movieToDelete}\n            isSavedCheck={isSavedCheck}\n            loggedIn={loggedIn}\n            onPopupClose={closeAllPopups}\n            onSearch={handleSearchSavedMoviesSubmit}\n            setCardToDelete={setMovieToDelete}\n            setIsLoading={setIsLoading}\n            handleMoviesFiltration={handleMoviesFiltration}\n            handleSaveOrDeleteClick={handleSaveOrDeleteClick}\n            savedMovies={savedMovies}\n            searchResponse={savedMoviesSearchResponse}\n            setPreloader={setIsLoading}\n          />\n          <Route exact path='*'>\n            <PageNotFound />\n          </Route>\n        </Switch>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}