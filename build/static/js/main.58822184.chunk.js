(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(29).concat([function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(20),o=a.n(i),c=a(3),r=a(23),l=a(2),d=a(4),u=(a(29),s.a.createContext()),m=(a(30),a(0));var h=function(e){return Object(m.jsxs)("div",{className:"".concat(e.containsAnyForms?"form-container":"form-container_hidden","\n    "),children:[Object(m.jsx)("h2",{className:"form__title",children:e.title}),Object(m.jsxs)("form",{className:"form",onSubmit:e.onSubmit,noValidate:!0,autoComplete:"off",children:[Object(m.jsxs)("div",{className:"".concat(e.containsAnyInputs?"form__inputs":"form__inputs_hidden"),children:[e.children,Object(m.jsxs)("div",{className:"form__section",children:[Object(m.jsx)("label",{className:"form__input-label",children:"E-mail"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"email",type:"email",onFocus:e.onEmailFocus,onChange:e.onEmailChange,required:!0,value:e.emailValue}),e.emailValue&&e.isEmailDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.emailErrorMessage})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"form__input-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"password",type:"password",onFocus:e.onPasswordFocus,onChange:e.onPasswordChange,required:!0,value:e.passwordValue}),e.passwordValue&&e.isPasswordDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.passwordErrorMessage})]})]}),Object(m.jsxs)("label",{className:"form__submit-btn-container",children:[Object(m.jsx)("span",{className:"form__submit-error-message",children:e.formSubmitErrorMessage}),Object(m.jsx)("button",{className:"form__submit-btn opacity-transition\n              ".concat(e.isNameValid&&e.isEmalValid&&e.isPasswordValid?"form__submit-btn_active":"form__submit-btn_disabled","\n            "),type:"submit",disabled:!(e.isNameValid&&e.isEmalValid&&e.isPasswordValid),children:e.buttonText}),Object(m.jsxs)("p",{className:"form__link-caption",children:[e.caption,Object(m.jsx)(c.b,{to:"".concat(e.linkEndpoit),className:"form__auth-link",children:e.linkText})]})]})]})]})},j=a.p+"static/media/logo.2629e1f9.svg";var _=function(e){return Object(m.jsxs)("div",{className:"page_type_auth",children:[Object(m.jsx)(c.b,{to:"/",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(h,{buttonText:"\u0412\u043e\u0439\u0442\u0438",caption:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",containsAnyImages:!1,containsAnyInputs:!0,containsAnyForms:!0,linkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkEndpoit:"/signup",title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",onSubmit:function(t){t.preventDefault(),e.onLogin(e.emailValue,e.passwordValue)},formSubmitErrorMessage:e.formSubmitErrorMessage,emailValue:e.emailValue,nameValue:e.nameValue,passwordValue:e.passwordValue,emailErrorMessage:e.emailErrorMessage,nameErrorMessage:e.nameErrorMessage,passwordErrorMessage:e.passwordErrorMessage,onEmailFocus:e.onEmailFocus,onEmailChange:e.onEmailChange,onPasswordFocus:e.onPasswordFocus,onPasswordChange:e.onPasswordChange,isEmailDirty:e.isEmailDirty,isPasswordDirty:e.isPasswordDirty,isNameValid:!0,isEmalValid:e.isEmailValid,isPasswordValid:e.isPasswordValid})]})},b=(a(37),a(38),a.p+"static/media/navigation__profile-icon.3486dc2f.svg");var p=function(e){return Object(m.jsx)("nav",{className:"navigation",children:Object(m.jsx)(d.d,{children:Object(m.jsxs)(d.b,{path:"/",children:[Object(m.jsx)("div",{className:"\n            ".concat(e.loggedIn?"navigation__links_hidden":"navigation__links_visible"),children:Object(m.jsxs)("div",{className:"navigation__links-not-auth",children:[Object(m.jsx)(c.c,{to:"signup",className:"navigation__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(c.c,{to:"signin",className:"navigation__link navigation__link_type_signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),Object(m.jsx)("input",{id:"navigation__menu-toggle",type:"checkbox"}),Object(m.jsx)("label",{className:"\n            ".concat(e.loggedIn?"navigation__menu-btn":"navigation__menu-btn_hidden"),htmlFor:"navigation__menu-toggle",children:Object(m.jsx)("span",{className:"navigation__menu-btn-line"})}),Object(m.jsxs)("section",{className:"navigation__menu",children:[Object(m.jsx)("div",{className:"navigation__menu-background"}),Object(m.jsx)("div",{className:"navigation__menu-container",children:Object(m.jsxs)("div",{className:"\n                ".concat(e.loggedIn?"navigation__links_visible":"navigation__links_hidden"),children:[Object(m.jsxs)("div",{className:"navigation__links-auth",children:[Object(m.jsx)(c.c,{exact:!0,to:"/",className:"navigation__link navigation__link_type_main",activeClassName:"navigation__link_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(m.jsx)(c.c,{to:"/movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(c.c,{to:"saved-movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsxs)(c.c,{to:"profile",className:"navigation__link navigation__link_type_profile",activeClassName:"navigation__link_active",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(m.jsx)("img",{className:"navigation__profile-icon",src:b,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]})]})})]})]})})})};var f=function(e){return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)(c.b,{to:"/",className:"header__link",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(p,{loggedIn:e.loggedIn})]})};a(39),a(40);var v=function(){return Object(m.jsxs)("ul",{className:"nav-tab",children:[Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#about-project",className:"nav-tab__link",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#techs",className:"nav-tab__link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#about-me",className:"nav-tab__link",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})};var g=function(){return Object(m.jsxs)("section",{className:"promo",children:[Object(m.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(m.jsx)(v,{})]})};a(41);var O=function(){return Object(m.jsxs)("section",{className:"about-project",id:"about-project",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(m.jsxs)("div",{className:"about-project__info",children:[Object(m.jsxs)("div",{className:"about-project__stages",children:[Object(m.jsx)("h3",{className:"about-project__heading",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(m.jsx)("p",{className:"about-project__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(m.jsxs)("div",{className:"about-project__stages",children:[Object(m.jsx)("h3",{className:"about-project__heading",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(m.jsx)("p",{className:"about-project__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(m.jsxs)("div",{className:"about-project__scale",children:[Object(m.jsx)("p",{className:"about-project__scale-value",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("p",{className:"about-project__scale-value",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})]}),Object(m.jsxs)("div",{className:"about-project__scale-captures",children:[Object(m.jsx)("p",{className:"about-project__scale-capture",children:"Back-end"}),Object(m.jsx)("p",{className:"about-project__scale-capture",children:"Front-end"})]})]})};a(42);var x=function(){return Object(m.jsxs)("section",{className:"techs",id:"techs",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(m.jsx)("h3",{className:"techs__title techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(m.jsx)("p",{className:"techs__capture",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(m.jsxs)("ul",{className:"techs__list",children:[Object(m.jsx)("li",{className:"techs__list-item",children:"HTML"}),Object(m.jsx)("li",{className:"techs__list-item",children:"CSS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"JS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"React"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Git"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Express.js"}),Object(m.jsx)("li",{className:"techs__list-item",children:"mongoDB"})]})]})},N=(a(43),a.p+"static/media/about-me__photo.c3de3540.jpg");a(44);var k=function(e){return Object(m.jsxs)("ul",{className:"".concat("about-me"===e.parentClassName?"contacts contacts-reversed":"contacts contacts_place_footer","\n  "),children:[Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item_hidden":"contacts__item contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link",href:"https://practicum.yandex.ru/",target:"_blank",rel:"noreferrer nofollow",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item":"contacts__item contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link\n          ".concat("about-me"===e.parentClassName?"contacts__link_place_about-me":"contacts__link_place_footer","\n        "),href:"https://github.com/Tatiana-Novikova",target:"_blank",rel:"noreferrer nofollow",children:"Github"})}),Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item":"contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link\n          ".concat("about-me"===e.parentClassName?"contacts__link_place_about-me":"contacts__link_place_footer","\n        "),href:"https://www.facebook.com/tanya.novikova.3597",target:"_blank",rel:"noreferrer nofollow",children:"Facebook"})})]})};a(45);var C=function(){return Object(m.jsxs)("section",{className:"portfolio",children:[Object(m.jsx)("h3",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(m.jsxs)("ul",{className:"portfolio__links",children:[Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://github.com/Tatiana-Novikova/how-to-learn",target:"_blank",rel:"noreferrer nofollow",children:["\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})}),Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://tatiana-novikova.github.io/russian-travel/",target:"_blank",rel:"noreferrer nofollow",children:["\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})}),Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://mesto-project.students.nomoredomains.club/",target:"_blank",rel:"noreferrer nofollow",children:["\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})})]})]})};var S=function(){return Object(m.jsxs)("section",{className:"about-me",id:"about-me",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(m.jsxs)("div",{className:"about-me__student-info",children:[Object(m.jsxs)("div",{className:"about-me__student-info-container",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"about-me__name",children:"\u0422\u0430\u0442\u044c\u044f\u043d\u0430"}),Object(m.jsx)("p",{className:"about-me__capture",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 28 \u043b\u0435\u0442"}),Object(m.jsx)("p",{className:"about-me__text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u041c\u042d\u0421\u0418. \u041b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u043f\u0435\u0442\u044c \u0438 \u0443\u0447\u0443\u0441\u044c \u0438\u0433\u0440\u0430\u0442\u044c \u043d\u0430 \u0443\u043a\u0443\u043b\u0435\u043b\u0435. \u0415\u0449\u0451 \u0441\u043e \u0448\u043a\u043e\u043b\u044b \u043b\u044e\u0431\u043b\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0443 \u0438 \u0432\u043e\u0442 \u043d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043e\u0434\u0438\u0442\u044c. \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u044d\u0442\u043e\u043c\u0443 \u0438 \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432 \u043d\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438, \u0432\u044b\u0431\u0440\u0430\u043b\u0430 \u042f\u043d\u0434\u0435\u043a\u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c."})]}),Object(m.jsx)(k,{parentClassName:"about-me"})]}),Object(m.jsx)("img",{className:"about-me__photo",alt:"\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",src:N})]}),Object(m.jsx)(C,{})]})};a(46);var y=function(){return Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsx)("p",{className:"footer__project-info",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(m.jsxs)("div",{className:"footer__copyrights",children:[Object(m.jsxs)("p",{className:"footer__date",children:["\xa9 ",(new Date).getFullYear()]}),Object(m.jsx)(k,{parentClassName:"footer"})]})]})};var E=function(e){return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(f,{loggedIn:e.loggedIn}),Object(m.jsx)(g,{}),Object(m.jsx)(O,{}),Object(m.jsx)(x,{}),Object(m.jsx)(S,{}),Object(m.jsx)(y,{})]})},w=a(10),V=a(11),M=new(function(){function e(t){Object(w.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"register",value:function(e,t,a){return fetch("".concat(this._address,"/signup"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({name:e,email:t,password:a})}).then(this._checkResponse)}},{key:"login",value:function(e,t){return fetch("".concat(this._address,"/signin"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._checkResponse)}},{key:"logout",value:function(){return fetch("".concat(this._address,"/signout"),{method:"DELETE",credentials:"include"}).then(this._checkResponse).catch((function(e){console.log(e)}))}},{key:"getCurrentUser",value:function(){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:this._headers,credentials:"include"}).then(this._checkResponse)}},{key:"editProfile",value:function(e){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:this._headers,credentials:"include",body:JSON.stringify({name:e.name,email:e.email})}).then(this._checkResponse)}}]),e}())({address:"https://api.movies-explorer.nomoredomains.work"}),P="https://api.nomoreparties.co",I=new(function(){function e(t){Object(w.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getCurrentUser",value:function(){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:this._headers,credentials:"include"}).then(this._checkResponse)}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._address,"/movies"),{method:"GET",credentials:"include",headers:this._headers}).then(this._checkResponse)}},{key:"saveMovie",value:function(e){return fetch("".concat(this._address,"/movies"),{method:"POST",headers:this._headers,credentials:"include",body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:P+e.image.url,trailer:e.trailerLink,nameRU:e.nameRU,nameEN:e.nameEN,thumbnail:P+e.image.formats.thumbnail.url,movieId:e.id})}).then(this._checkResponse)}},{key:"deleteMovie",value:function(e){return fetch("".concat(this._address,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:this._headers}).then(this._checkResponse)}}]),e}())({address:"https://api.movies-explorer.nomoredomains.work"}),F=new(function(){function e(t){Object(w.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getMovies",value:function(){return fetch(this._address,{method:"GET",headers:this._headers}).then(this._checkResponse)}}]),e}())({address:"https://api.nomoreparties.co/beatfilm-movies"});a(47),a(48);var D=function(e){var t=s.a.useState(""),a=Object(l.a)(t,2),n=a[0],i=a[1];return Object(m.jsx)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),e.onFormSubmit(n)},noValidate:!0,autoComplete:"off",children:Object(m.jsxs)("div",{className:"search-form__container",children:[Object(m.jsx)("div",{className:"search-form__icon"}),Object(m.jsxs)("div",{className:"search-form__input-container",children:[Object(m.jsx)("input",{className:"search-form__input",id:"query",name:"query",type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",onChange:function(e){return i(e.target.value)},value:n,required:!0}),Object(m.jsx)("button",{className:"search-form__submit-btn opacity-transition\n              ".concat(""!==n?"search-form__submit-btn_active":"search-form__submit-btn_disabled","\n            "),type:"submit",disabled:""===n,children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(m.jsxs)("label",{className:"search-form__filter",htmlFor:"checkbox-toggle",children:[Object(m.jsx)("input",{className:"search-form__checkbox",type:"checkbox",checked:e.filterCheckboxState,onChange:e.onFilterCheckboxChange,id:"checkbox-toggle",disabled:!1}),Object(m.jsx)("span",{className:"search-form__checkbox-capture",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]})})};a(49),a(50);var T=function(e){var t=s.a.useState(!1),a=Object(l.a)(t,2),n=a[0],i=a[1],o="/saved-movies"===window.location.pathname,c="/movies"===window.location.pathname,r=e.isSavedCheck(e.movieToRender);return Object(m.jsxs)("article",{children:[Object(m.jsx)("a",{className:"movie__link",href:"".concat(o?e.movieToRender.trailer:e.movieToRender.trailerLink),target:"_blank",rel:"noreferrer",children:Object(m.jsx)("img",{className:"movie__image",src:c?"https://api.nomoreparties.co"+e.movieToRender.image.url:e.movieToRender.image,alt:e.movieToRender.nameRU})}),Object(m.jsxs)("div",{className:"movie__info",children:[Object(m.jsxs)("div",{className:"movie__main",children:[Object(m.jsx)("h2",{className:"movie__title",children:e.movieToRender.nameRU}),Object(m.jsxs)("span",{className:"movie__duration",children:[Math.floor(e.movieToRender.duration/60),"\u0447",e.movieToRender.duration%60,"\u043c"]})]}),Object(m.jsx)("button",{className:"\n              ".concat(r?"movie__btn_active":"movie__btn_disabled","\n              ").concat(c?"movie__btn_type_save":"movie__btn_type_delete","\n            "),type:"button","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c/\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){i(!n),e.handleSaveOrDeleteClick(e.movieToRender,r)}})]})]})},R=(a(51),function(){return Object(m.jsx)("div",{className:"preloader",children:Object(m.jsx)("div",{className:"preloader__container",children:Object(m.jsx)("span",{className:"preloader__round"})})})});var L=function(e){for(var t=[],a=0;a<e.maxMoviesNum;a++)e.moviesToPrerenderList[a]&&t.push(e.moviesToPrerenderList[a]);return Object(m.jsxs)("section",{className:"".concat(0===t.length?"movies-cards-list_hidden":"movies-cards-list","\n    "),children:[e.isLoading&&Object(m.jsx)(R,{}),Object(m.jsx)("ul",{className:"movies-cards-grid",children:t.map((function(t){return Object(m.jsx)("li",{children:Object(m.jsx)(T,{handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,isSavedCheck:e.isSavedCheck,movieToRender:t})},t.movieId||t.id)}))}),Object(m.jsx)("button",{className:"".concat(t.length<=e.maxMoviesNum?"movies-cards-list__btn":"movies-cards-list__btn_hidden"),type:"button","aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",onClick:e.handleShowMoreClick,disabled:!1,children:"\u0415\u0449\u0451"})]})};var A=function(e){var t=s.a.useState(!1),a=Object(l.a)(t,2),n=a[0],i=a[1],o=s.a.useState([]),c=Object(l.a)(o,2),r=c[0],d=c[1],u=s.a.useState(4),h=Object(l.a)(u,2),j=h[0],_=h[1];return s.a.useEffect((function(){n&&d(e.handleMoviesFiltration(e.movies))}),[n]),Object(m.jsxs)("section",{className:"movies",children:[Object(m.jsx)(f,{loggedIn:e.loggedIn}),Object(m.jsx)(D,{filterCheckboxState:n,onFilterCheckboxChange:function(){return i(!n)},onFormSubmit:e.onSearch}),Object(m.jsx)("p",{className:"".concat(0===e.movies.length?"movies__caption":"movies__caption_hidden","\n      "),children:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0444\u0438\u043b\u044c\u043c, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"}),Object(m.jsx)(L,{isLoading:e.isLoading,isSavedCheck:e.isSavedCheck,handleMoviesFiltration:e.handleMoviesFiltration,handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,handleShowMoreClick:function(){window.innerWidth>=1280?_(j+4):_(j+2)},maxMoviesNum:j,moviesToPrerenderList:n?r:e.movies}),Object(m.jsx)(y,{})]})};a(52);var J=function(){return Object(m.jsxs)("div",{className:"not-found",children:[Object(m.jsx)("h3",{className:"not-found__title",children:"404"}),Object(m.jsx)("span",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(m.jsx)(c.b,{className:"not-found__button",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})};a(53);var U=function(e){var t=s.a.useContext(u),a=s.a.useState(t.name),n=Object(l.a)(a,2),i=n[0],o=n[1],r=s.a.useState(t.email),d=Object(l.a)(r,2),h=d[0],j=d[1];return Object(m.jsxs)("div",{className:"page-container",children:[Object(m.jsx)(f,{loggedIn:e.loggedIn}),Object(m.jsxs)("section",{className:"profile",children:[Object(m.jsxs)("h2",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(m.jsxs)("form",{className:"profile__user-info-container",onSubmit:function(t){t.preventDefault();var a={name:i,email:h};e.onEditProfile(a)},children:[Object(m.jsxs)("div",{className:"profile__user-info",children:[Object(m.jsx)("p",{className:"profile__user-info_data",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"profile__input",disabled:!1,name:"name",type:"text",onChange:function(e){return o(e.target.value)},required:!0,value:i||""})]}),Object(m.jsxs)("div",{className:"profile__user-info",children:[Object(m.jsx)("p",{className:"profile__user-info_data",children:"E-mail"}),Object(m.jsx)("input",{className:"profile__input",disabled:!1,name:"email",type:"email",onChange:function(e){return j(e.target.value)},required:!0,value:h||""})]}),Object(m.jsx)("button",{className:"profile__edit-button",type:"submit","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(m.jsx)(c.b,{to:"/",className:"profile__link",onClick:e.onSignOut,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})},q=a(15),G=a(24),B=["component"],H=function(e){var t=e.component,a=Object(G.a)(e,B);return Object(m.jsx)(d.b,{children:function(){return a.loggedIn?Object(m.jsx)(t,Object(q.a)({},a)):Object(m.jsx)(d.a,{to:"/"})}})};var W=function(e){return Object(m.jsxs)("div",{className:"page_type_auth",children:[Object(m.jsx)(c.b,{to:"/",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(h,{buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",caption:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",containsAnyImages:!1,containsAnyInputs:!0,containsAnyForms:!0,linkText:"\u0412\u043e\u0439\u0442\u0438",linkEndpoit:"/signin",title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",onSubmit:function(t){t.preventDefault(),e.onRegister(e.nameValue,e.emailValue,e.passwordValue)},formSubmitErrorMessage:e.formSubmitErrorMessage,emailValue:e.emailValue,nameValue:e.nameValue,passwordValue:e.passwordValue,emailErrorMessage:e.emailErrorMessage,nameErrorMessage:e.nameErrorMessage,passwordErrorMessage:e.passwordErrorMessage,onEmailFocus:e.onEmailFocus,onEmailChange:e.onEmailChange,onPasswordFocus:e.onPasswordFocus,onPasswordChange:e.onPasswordChange,isEmailDirty:e.isEmailDirty,isPasswordDirty:e.isPasswordDirty,isNameValid:e.isNameValid,isEmalValid:e.isEmailValid,isPasswordValid:e.isPasswordValid,children:Object(m.jsxs)("div",{className:"form__section",children:[Object(m.jsx)("label",{className:"form__input-label",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"name",onChange:e.onNameChange,onFocus:e.onNameFocus,type:"text",required:!0,value:e.nameValue}),e.nameValue&&e.isNameDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.nameErrorMessage})]})})]})};a(54),a(55);var $=function(e){return s.a.useEffect((function(){if(e.isPopupOpened){var t=function(t){"Escape"===t.key&&e.onPopupClose()};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}}),[e]),Object(m.jsx)("section",{className:"popup ".concat(e.isPopupOpened?"popup_opened":""),onClick:function(t){t.target===t.currentTarget&&e.isPopupOpened&&e.onPopupClose()},children:Object(m.jsxs)("div",{className:"popup__content ".concat(e.containsAnyImages?"popup__content_type_no-paddings":"popup__content","\n      "),children:[Object(m.jsx)("button",{className:"popup__close-button opacity-transition",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onPopupClose}),Object(m.jsx)(h,{title:e.formTitle,buttonText:e.buttonText,onNameChange:e.onNameChange,onEmailChange:e.onEmailChange,onFormSubmit:e.onFormSubmit,containsAnyInputs:e.containsAnyInputs,containsAnyForms:e.containsAnyForms}),e.children]})})};var z=function(e){return Object(m.jsx)($,{buttonText:"\u0414\u0430",containsAnyImages:!1,containsAnyInputs:!1,containsAnyForms:!0,formTitle:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",isPopupOpened:e.isDeleteCardPopupOpened,onPopupClose:e.onPopupClose,onFormSubmit:function(t){t.preventDefault(),e.onDeleteCard(e.cardToDelete)}})};var Y=function(e){var t=s.a.useState(!1),a=Object(l.a)(t,2),n=a[0],i=a[1],o=s.a.useState([]),c=Object(l.a)(o,2),r=c[0],d=c[1],u=s.a.useState(16),h=Object(l.a)(u,2),j=h[0],_=h[1];return s.a.useEffect((function(){n&&d(e.handleMoviesFiltration(e.savedMovies))}),[n]),Object(m.jsxs)("section",{className:"saved-movies",children:[Object(m.jsx)(f,{loggedIn:e.loggedIn}),Object(m.jsx)(D,{filterCheckboxState:n,onFilterCheckboxChange:function(){return i(!n)},onFormSubmit:e.onSearch}),Object(m.jsx)("p",{className:"".concat(0===e.savedMovies.length?"saved-movies__caption":"saved-movies__caption_hidden","\n      "),children:"\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0444\u0438\u043b\u044c\u043c, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"}),Object(m.jsx)(L,{cardToDelete:e.cardToDelete,handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,handleShowMoreClick:function(){window.innerWidth>=1280?_(j+4):_(j+2)},isGridFiltered:n,isLoading:e.isLoading,isSavedCheck:e.isSavedCheck,loggedIn:e.loggedIn,maxMoviesNum:j,moviesToPrerenderList:n?r:e.savedMovies,onClose:e.onClose}),Object(m.jsx)(y,{}),Object(m.jsx)(z,{isDeleteCardPopupOpened:e.isDeleteCardPopupOpened,onPopupClose:e.onPopupClose,setCardToDelete:e.setCardToDelete})]})},Z=function(e,t){var a=s.a.useState(!1),n=Object(l.a)(a,2),i=n[0],o=n[1],c=s.a.useState(e),r=Object(l.a)(c,2),d=r[0],u=r[1],m=function(e,t){var a=s.a.useState(!1),n=Object(l.a)(a,2),i=n[0],o=n[1],c=s.a.useState(!1),r=Object(l.a)(c,2),d=r[0],u=r[1],m=s.a.useState(!1),h=Object(l.a)(m,2),j=h[0],_=h[1],b=s.a.useState(!1),p=Object(l.a)(b,2),f=p[0],v=p[1],g=s.a.useState(""),O=Object(l.a)(g,2),x=O[0],N=O[1];return s.a.useEffect((function(){for(var a in t)switch(a){case"isEmailValid":/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(String(e).toLowerCase())?(_(!0),N("")):(_(!1),N("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b"));break;case"isNameValid":/^[\u0410-\u042f\u0430-\u044f/A-Za-z -]+$/.test(String(e))?(_(!0),N("")):(_(!1),N("\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0443, \u0434\u0435\u0444\u0438\u0441 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b"));break;case"isPasswordValid":e.length<6?(v(!1),N("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")):(v(!0),N(""));break;default:u(!1),_(!1),v(!1)}}),[e]),s.a.useEffect((function(){o(!!(d||j||f))}),[d,j,f]),{isInputValid:i,isNameValid:d,isEmailValid:j,isPasswordValid:f,errorMessage:x}}(d,t);return Object(q.a)({value:d,onChange:function(e){u(e.target.value)},onFocus:function(e){o(!0)},isDirty:i},m)};var K=function(){var e=Object(d.g)(),t=window.location.pathname,a=s.a.useState(null),n=Object(l.a)(a,2),i=n[0],o=n[1],c=s.a.useState({}),h=Object(l.a)(c,2),j=h[0],b=h[1],p=s.a.useState([]),f=Object(l.a)(p,2),v=f[0],g=f[1],O=s.a.useState(!1),x=Object(l.a)(O,2),N=x[0],k=x[1],C=s.a.useState(!1),S=Object(l.a)(C,2),y=S[0],w=S[1],V=s.a.useState(""),P=Object(l.a)(V,2),D=P[0],T=P[1],L=s.a.useState([]),q=Object(l.a)(L,2),G=q[0],B=q[1],$=s.a.useState([]),z=Object(l.a)($,2),K=z[0],Q=z[1],X=s.a.useState(""),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],ne=s.a.useState(!0),se=Object(l.a)(ne,2),ie=se[0],oe=se[1],ce=Z("",{isNameValid:!0}),re=Z("",{isEmailValid:!0}),le=Z("",{isPasswordValid:!0}),de=function(){M.getCurrentUser().then((function(e){b(e)})).catch((function(e){console.log(e)}))},ue=function(){y&&F.getMovies().then((function(e){localStorage.setItem("movies",JSON.stringify(e))})).catch((function(e){console.log(e)})).finally((function(){k(!1)}))},me=function(){y&&I.getSavedMovies().then((function(e){Q(e),localStorage.setItem("savedMovies",JSON.stringify(e))})).catch((function(e){console.log(e),localStorage.setItem("savedMovies",JSON.stringify([]))}))},he=function(e,a){var n=e.filter((function(e){return e.nameRU.includes(a)}));return 0===n.length&&"/saved-movies"===t?ae("\u0424\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."):ae(""),n},je=function(){return G.filter((function(e){return e.duration<=40}))},_e=function(e){return K.some((function(t){return e.id===t.movieId||e.movieId===t.movieId}))},be=function(e,t){t?fe(e):pe(e)},pe=function(e){I.saveMovie(e).then((function(e){Q([].concat(Object(r.a)(K),[e])),me()})).catch((function(e){console.log(e)}))},fe=function(e){if(!e.movieId){var t=K.filter((function(t){return t.movieId===e.id}));e=t[0]}I.deleteMovie(e._id).then((function(t){Q(K.filter((function(t){return t.id!==e._id}))),me()})).catch((function(e){console.log(e)}))};return s.a.useEffect((function(){localStorage.getItem("token")?(w(!0),Promise.all([M.getCurrentUser(),I.getSavedMovies()]).then((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];b(a),Q(n),oe(!1),me()})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){oe(!1)}))):oe(!1)}),[y]),s.a.useEffect((function(){var e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("movies")),a=JSON.parse(localStorage.getItem("savedMovies")),n=JSON.parse(localStorage.getItem("lastSearchedMovies"));t?(g(t),n&&B(n)):ue(),a?Q(a):e&&me()}),[y]),s.a.useEffect((function(){localStorage.getItem("token")&&M.getCurrentUser().then((function(a){a&&(b(a),w(!0),e.push(t))})).catch((function(t){console.log(t),localStorage.removeItem("token"),e.push("/")}))}),[]),ie?Object(m.jsx)(R,{isLoading:ie}):Object(m.jsx)("div",{className:"page-container",children:Object(m.jsx)(u.Provider,{value:j,children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(E,{loggedIn:y})}),Object(m.jsx)(d.b,{path:"/signup",children:Object(m.jsx)(W,{onRegister:function(t,a,n){M.register(t,a,n).then((function(t){e.push("/movies")})).catch((function(e){409===e&&T("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c c \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),400===e&&T("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),500===e&&T("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}))},emailValue:re.value,formSubmitErrorMessage:D,nameValue:ce.value,passwordValue:le.value,emailErrorMessage:re.errorMessage,nameErrorMessage:ce.errorMessage,passwordErrorMessage:le.errorMessage,onEmailFocus:function(e){return re.onFocus(e)},onEmailChange:function(e){return re.onChange(e)},onNameFocus:function(e){return ce.onFocus(e)},onNameChange:function(e){return ce.onChange(e)},onPasswordFocus:function(e){return le.onFocus(e)},onPasswordChange:function(e){return le.onChange(e)},isEmailDirty:re.isDirty,isNameDirty:ce.isDirty,isPasswordDirty:le.isDirty,isEmailValid:re.isInputValid,isNameValid:ce.isInputValid,isPasswordValid:le.isInputValid})}),Object(m.jsx)(d.b,{path:"/signin",children:Object(m.jsx)(_,{onLogin:function(t,a){M.login(t,a).then((function(t){localStorage.setItem("token",t.token),w(!0),e.push("/movies"),de()})).catch((function(e){401===e&&T("\u041f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),400===e&&T("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),500===e&&T("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),w(!1)}))},emailValue:re.value,formSubmitErrorMessage:D,nameValue:ce.value,passwordValue:le.value,emailErrorMessage:re.errorMessage,nameErrorMessage:ce.errorMessage,passwordErrorMessage:le.errorMessage,onEmailFocus:function(e){return re.onFocus(e)},onEmailChange:function(e){return re.onChange(e)},onNameFocus:function(e){return ce.onFocus(e)},onNameChange:function(e){return ce.onChange(e)},onPasswordFocus:function(e){return le.onFocus(e)},onPasswordChange:function(e){return le.onChange(e)},isEmailDirty:re.isDirty,isNameDirty:ce.isDirty,isPasswordDirty:le.isDirty,isEmailValid:re.isInputValid,isNameValid:ce.isInputValid,isPasswordValid:le.isInputValid})}),Object(m.jsx)(H,{component:U,path:"/profile",nameValue:ce.value,emailValue:re.value,loggedIn:y,onEditProfile:function(e){M.editProfile(e).then((function(e){b(e)})).catch((function(e){400===e&&T("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),409===e&&T("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),500===e&&T("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}))},onSignOut:function(){b({email:"",name:""}),localStorage.clear(),B([]),M.logout().then((function(){w(!1),e.push("/")})).catch((function(e){return console.log(e)}))}}),Object(m.jsx)(H,{component:A,path:"/movies",loggedIn:y,movies:G,onSearch:function(e){ue(),setTimeout((function(){return k(!1)}),1e3),B(he(v,e)),localStorage.setItem("lastSearchedMovies",JSON.stringify(he(v,e)))},handleMoviesFiltration:je,handleSaveOrDeleteClick:be,isSavedCheck:_e,setIsLoading:k}),Object(m.jsx)(H,{component:Y,path:"/saved-movies",cardToDelete:i,isLoading:N,isDeleteCardPopupOpened:!!i,isSavedCheck:_e,loggedIn:y,onPopupClose:function(){o(null)},onSearch:function(e){setTimeout((function(){return k(!1)}),1e3);var t=JSON.parse(localStorage.getItem("savedMovies"));Q(he(t,e))},setCardToDelete:o,setIsLoading:k,handleMoviesFiltration:je,handleSaveOrDeleteClick:be,savedMovies:K,searchResponse:te,setPreloader:k}),Object(m.jsx)(d.b,{exact:!0,path:"*",children:Object(m.jsx)(J,{})})]})})})},Q=(a(56),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),i(e),o(e)}))});o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(c.a,{children:Object(m.jsx)(K,{})})}),document.getElementById("root")),Q()}]),[[57,1,2]]]);
//# sourceMappingURL=main.58822184.chunk.js.map