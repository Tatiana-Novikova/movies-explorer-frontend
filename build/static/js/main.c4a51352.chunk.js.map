{"version":3,"sources":["contexts/CurrentUserContext.js","components/Form/Form.js","images/logo.svg","components/Login/Login.js","images/navigation__profile-icon.svg","components/Navigation/Navigation.js","components/Header/Header.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/about-me__photo.jpg","components/Contacts/Contacts.js","components/Portfolio/Portfolio.js","components/AboutMe/AboutMe.js","components/Footer/Footer.js","components/Main/Main.js","utils/AuthApi.js","utils/MainApi.js","utils/MoviesApi.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/Movie/Movie.js","components/MoreBtn/MoreBtn.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/PageNotFound/PageNotFound.js","components/Profile/Profile.js","components/ProtectedRoute/ProtectedRoute.js","components/Register/Register.js","components/SavedMovies/SavedMovies.js","utils/FormValidator.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Form","props","className","containsAnyForms","title","onSubmit","noValidate","autoComplete","containsAnyInputs","children","disabled","name","type","onFocus","onEmailFocus","onChange","onEmailChange","required","value","emailValue","isEmailDirty","id","emailErrorMessage","isRequest","onPasswordFocus","onPasswordChange","passwordValue","isPasswordDirty","passwordErrorMessage","formSubmitErrorMessage","isNameValid","isEmalValid","isPasswordValid","buttonText","caption","to","linkEndpoit","linkText","Login","useState","setIsRequest","src","logo","alt","containsAnyImages","e","preventDefault","onLogin","nameValue","nameErrorMessage","isEmailValid","Navigation","path","loggedIn","htmlFor","exact","activeClassName","icon","Header","NavTab","href","Promo","AboutProject","Techs","Contacts","parentClassName","target","rel","Portfolio","AboutMe","photo","Footer","Date","getFullYear","Main","AuthApi","options","this","_address","address","_headers","res","ok","json","Promise","reject","status","token","email","password","fetch","method","credentials","headers","body","JSON","stringify","then","_checkResponse","catch","error","console","log","userInfo","BASE_MOVIE_URL","MainApi","movie","country","director","duration","year","description","image","url","trailerLink","thumbnail","formats","movieId","nameRU","nameEN","MoviesApi","FilterCheckbox","checked","isChecked","SearchForm","localStorage","getItem","searchQuery","setSearchQuery","parse","isShort","setIsShort","searchQueryRef","useRef","useEffect","setItem","Boolean","onSearchFormSubmit","ref","placeholder","Movie","saveBtnState","setSaveBtnState","isOnSavedMovies","window","location","pathname","isOnMovies","isSaved","isSavedCheck","movieToRender","trailer","Math","floor","onClick","handleSaveOrDeleteClick","MoreBtn","movies","length","maxMoviesNum","Preloader","MoviesCardList","largeScreenSizePoint","middleScreenSizePoint","moviesToRender","lastSearchedMovies","innerWidth","setMaxMoviesNum","i","moviesToPrerenderList","push","setMoviesListCaption","searchResult","moviesListCaption","addEventListener","isLoading","map","Movies","filterCheckboxState","searchQueryForMovies","filteredMovies","setFilteredMovies","onFilter","onSearch","PageNotFound","Profile","currentUser","useContext","setName","setEmail","userData","onEditProfile","profileSubmitMessage","onSignOut","ProtectedRoute","Component","component","Register","onRegister","onNameChange","onNameFocus","isNameDirty","SavedMovies","searchQueryForSavedMovies","filteredSavedMovies","setFilteredSavedMovies","savedMovies","cardToDelete","onClose","useInput","initialValue","validations","isDirty","setIsDirty","setValue","valid","isInputValid","setIsInputValid","setIsNameValid","setIsEmailValid","setIsPasswordValid","errorMessage","setErrorMessage","validation","test","String","toLowerCase","useValidation","App","history","useHistory","movieToDelete","setMovieToDelete","setCurrentUser","setMovies","setIsLoading","setLoggedIn","setProfileSubmitMessage","setFormSubmitErrorMessage","searchedMovies","setSearchedMovies","setSavedMovies","savedMoviesSearchResult","isAppLoading","setIsAppLoading","formValidator","handleLoginSubmit","login","data","setupAuthorization","handleGetCurrentUser","getCurrentUser","handleGetMovies","getMovies","finally","handleGetSavedMovies","getSavedMovies","handleFilterMovies","filter","includes","some","savedMovie","handleDeleteMovie","handleSaveMovie","saveMovie","movieToDeleteData","deleteMovie","_id","all","storageMovies","storageSavedMovies","removeItem","Provider","register","user","editProfile","clear","logout","setTimeout","isDeleteCardPopupOpened","onPopupClose","setCardToDelete","setPreloader","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"soBAEaA,G,MAAqBC,IAAMC,iB,eCyFzBC,MAvFf,SAAeC,GAEb,OACE,sBAAKC,UAAS,UAAKD,EAAME,iBACrB,iBACA,wBAFU,UAAd,UAIE,oBAAID,UAAU,cAAd,SAA6BD,EAAMG,QACnC,uBACEF,UAAU,OACVG,SAAUJ,EAAMI,SAChBC,YAAU,EACVC,aAAa,MAJf,UAME,sBAAKL,UAAS,UAAKD,EAAMO,kBACrB,eAAiB,uBADrB,UAEGP,EAAMQ,SACP,sBAAKP,UAAU,gBAAf,UACE,uBAAOA,UAAU,oBAAjB,oBACA,uBACEA,UAAU,cACVQ,UAAU,EACVC,KAAK,QACLC,KAAK,QACLC,QAASZ,EAAMa,aACfC,SAAUd,EAAMe,cAChBC,UAAQ,EACRC,MAAOjB,EAAMkB,aAEblB,EAAMkB,YAAclB,EAAMmB,cAAiB,sBAC3ClB,UAAU,oBACVmB,GAAG,yBAFwC,SAGxCpB,EAAMqB,uBAGb,gCACA,uBAAOpB,UAAU,oBAAjB,kDACE,uBACEA,UAAU,cACVQ,WAAUT,EAAMsB,UAChBZ,KAAK,WACLC,KAAK,WACLC,QAASZ,EAAMuB,gBACfT,SAAUd,EAAMwB,iBAChBR,UAAQ,EACRC,MAAOjB,EAAMyB,gBAEbzB,EAAMyB,eAAiBzB,EAAM0B,iBAAoB,sBACjDzB,UAAU,oBACVmB,GAAG,yBAF8C,SAG9CpB,EAAM2B,6BAIf,wBAAO1B,UAAU,6BAAjB,UACE,sBAAMA,UAAU,6BAAhB,SACGD,EAAM4B,yBAET,wBACE3B,UAAS,6DACLD,EAAM6B,aAAe7B,EAAM8B,aACxB9B,EAAM+B,kBAAoB/B,EAAMsB,UACjC,0BACA,4BAJG,kBAOTX,KAAK,SACLF,WAAUT,EAAM6B,aAAe7B,EAAM8B,aAChC9B,EAAM+B,kBAAoB/B,EAAMsB,WAVvC,SAeGtB,EAAMgC,aAET,oBAAG/B,UAAU,qBAAb,UACGD,EAAMiC,QACP,cAAC,IAAD,CAAMC,GAAE,UAAKlC,EAAMmC,aAAelC,UAAU,kBAA5C,SACGD,EAAMoC,wBClFN,MAA0B,iCCwD1BC,MAnDf,SAAgBrC,GACd,MAAkCH,IAAMyC,UAAS,GAAjD,mBAAOhB,EAAP,KAAkBiB,EAAlB,KASA,OACE,sBAAKtC,UAAU,iBAAf,UACC,cAAC,IAAD,CAAMiC,GAAG,IAAT,SACG,qBACEjC,UAAU,YACVuC,IAAKC,EACLC,IAAI,iEAGR,cAAC,EAAD,CACEV,WAAW,iCACXC,QAAQ,oIACRU,mBAAmB,EACnBpC,mBAAmB,EACnBL,kBAAkB,EAClBkC,SAAS,qEACTD,YAAY,UACZhC,MAAM,iEACNC,SAzBN,SAAuBwC,GACrBA,EAAEC,iBACFN,GAAa,GACbvC,EAAM8C,QAAQ9C,EAAMkB,WAAYlB,EAAMyB,eACtCc,GAAa,IAsBTX,uBAAwB5B,EAAM4B,uBAC9BV,WAAYlB,EAAMkB,WAClB6B,UAAW/C,EAAM+C,UACjBtB,cAAezB,EAAMyB,cACrBJ,kBAAmBrB,EAAMqB,kBACzB2B,iBAAkBhD,EAAMgD,iBACxBrB,qBAAsB3B,EAAM2B,qBAC5Bd,aAAcb,EAAMa,aACpBE,cAAef,EAAMe,cACrBQ,gBAAiBvB,EAAMuB,gBACvBC,iBAAkBxB,EAAMwB,iBACxBL,aAAcnB,EAAMmB,aACpBO,gBAAiB1B,EAAM0B,gBACvBG,aAAa,EACbC,YAAa9B,EAAMiD,aACnBlB,gBAAiB/B,EAAM+B,gBACvBT,UAAWA,QClDJ,G,YAAA,IAA0B,sDC8F1B4B,MAzFf,SAAqBlD,GACnB,OACE,qBAAKC,UAAU,aAAf,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOkD,KAAK,IAAZ,UACE,qBAAKlD,UAAS,wBACTD,EAAMoD,SAEL,2BADA,6BAFN,SAME,sBAAKnD,UAAU,6BAAf,UACE,cAAC,IAAD,CACEiC,GAAG,SACHjC,UAAU,mBAFZ,gFAMA,cAAC,IAAD,CACEiC,GAAG,SACHjC,UAAU,gDAFZ,iDAQJ,uBAAOmB,GAAG,0BAA0BT,KAAK,aACzC,uBACEV,UAAS,wBACPD,EAAMoD,SACJ,uBACA,+BAEJC,QAAQ,0BANV,SAQE,sBAAMpD,UAAU,gCAElB,0BAASA,UAAU,mBAAnB,UACE,qBAAKA,UAAU,gCACf,qBAAKA,UAAU,6BAAf,SACE,sBAAKA,UAAS,4BACVD,EAAMoD,SACJ,4BACA,4BAHN,UAME,sBAAKnD,UAAU,yBAAf,UACE,cAAC,IAAD,CACEqD,OAAK,EAACpB,GAAG,IACTjC,UAAU,8CACVsD,gBAAgB,0BAHlB,wDAOA,cAAC,IAAD,CACErB,GAAG,UACHjC,UAAU,mBACVsD,gBAAgB,0BAHlB,kDAOA,cAAC,IAAD,CACErB,GAAG,eACHjC,UAAU,mBACVsD,gBAAgB,0BAHlB,wHAQF,eAAC,IAAD,CACErB,GAAG,UACHjC,UAAU,iDACVsD,gBAAgB,0BAHlB,uDAME,qBAAKtD,UAAU,2BACbuC,IAAKgB,EACLd,IAAI,6NC7DTe,MAff,SAAgBzD,GACd,OACE,yBAAQC,UAAU,SAAlB,UACE,cAAC,IAAD,CAAMiC,GAAG,IAAIjC,UAAU,eAAvB,SACE,qBACEA,UAAU,YACVuC,IAAKC,EACLC,IAAI,iEAGR,cAAC,EAAD,CAAYU,SAAUpD,EAAMoD,e,YCGnBM,MAhBf,WACE,OACE,qBAAIzD,UAAU,UAAd,UACE,oBAAIA,UAAU,gBAAd,SACE,mBAAG0D,KAAK,iBAAiB1D,UAAU,gBAAnC,iEAEF,oBAAIA,UAAU,gBAAd,SACE,mBAAG0D,KAAK,SAAS1D,UAAU,gBAA3B,4EAEF,oBAAIA,UAAU,gBAAd,SACE,mBAAG0D,KAAK,YAAY1D,UAAU,gBAA9B,8DCAO2D,MATf,WACE,OACE,0BAAS3D,UAAU,QAAnB,UACE,oBAAIA,UAAU,eAAd,4RACA,cAAC,EAAD,Q,MC+BS4D,MApCf,WACE,OACE,0BAAS5D,UAAU,gBAAgBmB,GAAG,gBAAtC,UACE,oBAAInB,UAAU,sBAAd,+DACA,sBAAKA,UAAU,sBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,yBAAd,2LAGA,mBAAGA,UAAU,sBAAb,6hBAKF,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,yBAAd,kMAGA,mBAAGA,UAAU,sBAAb,6hBAMJ,sBAAKA,UAAU,uBAAf,UACE,mBAAGA,UAAU,6BAAb,oDACA,mBAAGA,UAAU,6BAAb,uDAEF,sBAAKA,UAAU,gCAAf,UACE,mBAAGA,UAAU,+BAAb,sBACA,mBAAGA,UAAU,+BAAb,8B,MCRO6D,MAtBf,WACE,OACE,0BAAS7D,UAAU,QAAQmB,GAAG,QAA9B,UACE,oBAAInB,UAAU,sBAAd,0EACA,oBAAIA,UAAU,8BAAd,4EACA,mBAAGA,UAAU,iBAAb,2cAIA,qBAAIA,UAAU,cAAd,UACE,oBAAIA,UAAU,mBAAd,kBACA,oBAAIA,UAAU,mBAAd,iBACA,oBAAIA,UAAU,mBAAd,gBACA,oBAAIA,UAAU,mBAAd,mBACA,oBAAIA,UAAU,mBAAd,iBACA,oBAAIA,UAAU,mBAAd,wBACA,oBAAIA,UAAU,mBAAd,4BCnBO,G,MAAA,IAA0B,6C,MCyD1B8D,MAtDf,SAAmB/D,GACjB,OACE,qBAAIC,UAAS,UAA+B,aAA1BD,EAAMgE,gBACtB,6BACA,iCAFW,QAAb,UAIE,oBAAI/D,UAAS,UAA+B,aAA1BD,EAAMgE,gBACpB,wBACA,6CAFS,YAAb,SAIE,mBAAG/D,UAAU,iBACX0D,KAAK,+BACLM,OAAO,SACPC,IAAI,sBAHN,2GAQF,oBAAIjE,UAAS,UAA+B,aAA1BD,EAAMgE,gBACpB,iBACA,6CAFS,YAAb,SAIE,mBAAG/D,UAAS,oCACkB,aAA1BD,EAAMgE,gBACJ,gCACA,8BAHM,cAKVL,KAAK,sCACLM,OAAO,SACPC,IAAI,sBAPN,sBAYF,oBAAIjE,UAAS,UAA+B,aAA1BD,EAAMgE,gBACpB,iBACA,8BAFS,YAAb,SAIE,mBAAG/D,UAAS,oCACkB,aAA1BD,EAAMgE,gBACJ,gCACA,8BAHM,cAKVL,KAAK,+CACLM,OAAO,SACPC,IAAI,sBAPN,4B,MCKOC,MA3Cf,WACE,OACE,0BAASlE,UAAU,YAAnB,UACE,oBAAIA,UAAU,qBAAd,oEACA,qBAAIA,UAAU,mBAAd,UACE,oBAAIA,UAAU,wBAAd,SACE,oBACEA,UAAU,kBACV0D,KAAK,mDACLM,OAAO,SACPC,IAAI,sBAJN,4FAOE,sBAAMjE,UAAU,wBAAhB,yBAGJ,oBAAIA,UAAU,wBAAd,SACE,oBACEA,UAAU,kBACV0D,KAAK,qDACLM,OAAO,SACPC,IAAI,sBAJN,kGAOE,sBAAMjE,UAAU,wBAAhB,yBAGJ,oBAAIA,UAAU,wBAAd,SACE,oBACEA,UAAU,kBACV0D,KAAK,qDACLM,OAAO,SACPC,IAAI,sBAJN,8JAOE,sBAAMjE,UAAU,wBAAhB,gCCDGmE,MA/Bf,WACE,OACE,0BAASnE,UAAU,WAAWmB,GAAG,WAAjC,UACE,oBAAInB,UAAU,sBAAd,wDACA,sBAAKA,UAAU,yBAAf,UACE,sBAAKA,UAAU,mCAAf,UACE,gCACE,oBAAIA,UAAU,iBAAd,wDACA,mBAAGA,UAAU,oBAAb,wJAGA,mBAAGA,UAAU,iBAAb,o0CAOF,cAAC,EAAD,CAAU+D,gBAAgB,gBAE5B,qBACE/D,UAAU,kBACVyC,IAAI,gHACJF,IAAK6B,OAGT,cAAC,EAAD,Q,MCdSC,MAdf,WACE,OACE,yBAAQrE,UAAU,SAAlB,UACE,mBAAGA,UAAU,uBAAb,0MACE,sBAAKA,UAAU,qBAAf,UACE,oBAAGA,UAAU,eAAb,mBACQ,IAAIsE,MAAOC,iBAEnB,cAAC,EAAD,CAAUR,gBAAgB,kBCUrBS,MAbf,SAAezE,GACb,OACE,uBAAMC,UAAU,OAAhB,UACE,cAAC,EAAD,CAAQmD,SAAUpD,EAAMoD,WACxB,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,gBCiESsB,EAJC,I,WA7Ed,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAW,CACd,eAAgB,oB,kDAIpB,SAAeC,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,U,gCAI9B,SAAmBC,GACbA,EACFV,KAAKG,SAAL,cAAiCO,SAE1BV,KAAKG,SAAL,gB,sBAIX,SAASrE,EAAM6E,EAAOC,GACpB,OAAOC,MAAM,GAAD,OAAIb,KAAKC,SAAT,WAA4B,CACtCa,OAAQ,OACRC,YAAa,UACbC,QAAShB,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CAAErF,OAAM6E,QAAOC,eAErCQ,KAAKpB,KAAKqB,kB,mBAGb,SAAMV,EAAOC,GACX,OAAOC,MAAM,GAAD,OAAIb,KAAKC,SAAT,WAA4B,CACtCa,OAAQ,OACRC,YAAa,UACbC,QAAShB,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CAAER,QAAOC,eAE/BQ,KAAKpB,KAAKqB,kB,oBAGb,WACE,OAAOR,MAAM,GAAD,OAAIb,KAAKC,SAAT,YAA6B,CACvCa,OAAQ,SACRC,YAAa,YAEdK,KAAKpB,KAAKqB,gBACVC,OAAM,SAACC,GACNC,QAAQC,IAAIF,Q,4BAIhB,WACE,OAAOV,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,MACRE,QAAShB,KAAKG,SACdY,YAAa,YAEZK,KAAKpB,KAAKqB,kB,yBAGf,SAAYK,GACV,OAAOb,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,QACRE,QAAShB,KAAKG,SACdY,YAAa,UACbE,KAAMC,KAAKC,UAAU,CACnBrF,KAAM4F,EAAS5F,KACf6E,MAAOe,EAASf,UAGjBS,KAAKpB,KAAKqB,oB,KAID,CAAS,CACvBnB,QAAS,mDC/ELyB,EAAiB,+BAgFRC,EAJC,I,WAzEd,WAAY7B,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAW,CACd,eAAgB,oB,kDAIpB,SAAeC,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,U,gCAI9B,SAAmBC,GACbA,EACFV,KAAKG,SAAL,cAAiCO,SAE1BV,KAAKG,SAAL,gB,4BAIX,WACE,OAAOU,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,MACRE,QAAShB,KAAKG,SACdY,YAAa,YAEZK,KAAKpB,KAAKqB,kB,4BAGf,WACE,OAAOR,MAAM,GAAD,OAAIb,KAAKC,SAAT,WAA4B,CACtCa,OAAQ,MACRC,YAAa,UACbC,QAAShB,KAAKG,WAEfiB,KAAKpB,KAAKqB,kB,uBAGb,SAAUQ,GACR,OAAOhB,MAAM,GAAD,OAAIb,KAAKC,SAAT,WAA4B,CACtCa,OAAQ,OACRE,QAAShB,KAAKG,SACdY,YAAa,UACbE,KAAMC,KAAKC,UAAU,CACnBW,QAASD,EAAMC,QACfC,SAAUF,EAAME,SAChBC,SAAUH,EAAMG,SAChBC,KAAMJ,EAAMI,KACZC,YAAaL,EAAMK,YACnBC,MAAOR,EAAiBE,EAAMM,MAAMC,IACpCC,YAAaR,EAAMQ,YACnBC,UAAWX,EAAiBE,EAAMM,MAAMI,QAAQD,UAAUF,IAC1DI,QAASX,EAAMrF,GACfiG,OAAQZ,EAAMY,OACdC,OAAQb,EAAMa,WAGjBtB,KAAKpB,KAAKqB,kB,yBAGb,SAAY7E,GACV,OAAOqE,MAAM,GAAD,OAAIb,KAAKC,SAAT,mBAA4BzD,GAAM,CAC5CsE,OAAQ,SACRC,YAAa,UACbC,QAAShB,KAAKG,WAEfiB,KAAKpB,KAAKqB,oB,KAIC,CAAS,CACvBnB,QAAS,mDChDIyC,EAJG,I,WAxBhB,WAAY5C,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAW,CACd,eAAgB,oB,kDAIpB,SAAeC,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,U,uBAI9B,WACE,OAAOI,MAAMb,KAAKC,SAAU,CAC1Ba,OAAQ,MACRE,QAAShB,KAAKG,WAEfiB,KAAKpB,KAAKqB,oB,KAIG,CAAS,CACzBnB,QAAS,iD,YCAI0C,MAvBf,SAAyBxH,GACvB,OACI,qBAAKC,UAAU,iBAAf,SACE,wBACEA,UAAU,wBACVoD,QAAQ,wBAFV,UAIE,uBACEpD,UAAU,wBACVU,KAAK,WACL8G,QAASzH,EAAM0H,UACf5G,SAAW,SAAC8B,GACV5C,EAAMc,SAAS8B,EAAEqB,OAAOwD,UAE1BrG,GAAG,wBACHX,UAAU,IAEZ,sBAAMR,UAAU,0BAAhB,8G,MCwDK0H,MAxEf,SAAqB3H,GACnB,MAAkCH,IAAMyC,UAAS,GAAjD,mBAAOhB,EAAP,KAAkBiB,EAAlB,KACA,EAAsC1C,IAAMyC,SAASsF,aAAaC,QAAQ,eAAe7H,EAAMiE,SAAW,IAA1G,mBAAO6D,EAAP,KAAoBC,EAApB,KACA,EAA8BlI,IAAMyC,UAAS,WAE3C,OADcwD,KAAKkC,MAAMJ,aAAaC,QAAQ,iBAAiB7H,EAAMiE,UACrD,MAFlB,mBAAOgE,EAAP,KAAgBC,EAAhB,KAIMC,EAAiBtI,IAAMuI,OAAON,GAqBpC,OAJAjI,IAAMwI,WAAU,WACdT,aAAaU,QAAQ,iBAAiBtI,EAAMiE,OAAQsE,QAAQN,MAC3D,CAACA,IAGF,sBACAhI,UAAU,cACVG,SArBmB,SAACwC,GACpBA,EAAEC,iBACF+E,aAAaU,QAAQ,eAAetI,EAAMiE,OAAQ6D,GAClDvF,GAAa,GACbvC,EAAMwI,mBAAmB,CAAEV,cAAaG,YACxC1F,GAAa,IAiBblC,YAAU,EACVC,aAAa,MAJb,SAMA,sBAAKL,UAAU,yBAAf,UACE,qBAAKA,UAAU,sBACb,sBAAKA,UAAU,+BAAf,UACE,uBACEA,UAAU,qBACVwI,IAAKN,EACL/G,GAAG,QACHV,KAAK,QACLC,KAAK,OACL+H,YAAY,iCACZ5H,SAAW,SAAC8B,GAAD,OAAOmF,EAAenF,EAAEqB,OAAOhD,QAC1CA,MAAO6G,EACP9G,UAAQ,IAEV,wBACEf,UAAS,oEACY,KAAhB6H,GAAyBxG,EAExB,mCADA,iCAFG,kBAMTX,KAAK,SACLF,WAA2B,KAAhBqH,IAAwBxG,GARrC,+CAcJ,cAAC,EAAD,CACER,SA9CmB,SAAC4G,GACxBE,aAAaU,QAAQ,iBAAiBtI,EAAMiE,OAAQsE,QAAQb,IAC5D1H,EAAMwI,mBAAmB,CAAEV,cAAaG,QAAQP,IAChDQ,EAAWR,IA4CPA,UAAWO,U,YCRJU,MA1Df,SAAgB3I,GACd,MAAwCH,IAAMyC,UAAS,GAAvD,mBAAOsG,EAAP,KAAqBC,EAArB,KACMC,EAA+C,kBAA7BC,OAAOC,SAASC,SAClCC,EAA0C,YAA7BH,OAAOC,SAASC,SAC7BE,EAAUnJ,EAAMoJ,aAAapJ,EAAMqJ,eAOzC,OACE,oCACC,mBAAGpJ,UAAU,cACV0D,KAAqB,UAAfmF,EACC9I,EAAMqJ,cAAcC,QACpBtJ,EAAMqJ,cAAcpC,aAE3BhD,OAAO,SACPC,IAAI,aANP,SAQG,qBACEjE,UAAU,eACVuC,IAAK0G,EACD,+BAAiClJ,EAAMqJ,cAActC,MAAMC,IAC1DhH,EAAMqJ,cAActC,MAEzBrE,IAAK1C,EAAMqJ,cAAchC,WAG7B,sBAAKpH,UAAU,cAAf,UACE,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BD,EAAMqJ,cAAchC,SAClD,uBAAMpH,UAAU,kBAAhB,UACGsJ,KAAKC,MAAMxJ,EAAMqJ,cAAczC,SAAS,IAD3C,SACiD5G,EAAMqJ,cAAczC,SAAS,GAD9E,eAIA,wBACE3G,UAAS,0BACLkJ,EACE,oBACA,sBAHG,2BAKLD,EACE,uBACA,yBAPG,kBAUTvI,KAAK,SACL,aAAW,oGACX8I,QA5CkB,WAC1BZ,GAAiBD,GACjB5I,EAAM0J,wBAAwB1J,EAAMqJ,cAAeF,a,MCSxCQ,MAlBf,SAAkB3J,GAEhB,OACE,wBACEC,UAAS,UAAKD,EAAM4J,OAAOC,QAAU7J,EAAM8J,aAA7B,8BAIdnJ,KAAK,SACL,aAAW,yIACX8I,QAASzJ,EAAMyJ,QACfhJ,UAAU,EARZ,iCCQWsJ,G,MAVG,WAChB,OACE,qBAAK9J,UAAU,YAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,sBAAMA,UAAU,2BCiGT+J,MAlGf,SAAyBhK,GAwBvB,IAvBA,IAAMgJ,EAAWD,OAAOC,SAASC,SAI3BgB,EAAuB,KACvBC,EAAwB,IAE1BC,EAAiB,GACfC,EAAqBtE,KAAKkC,MAAMJ,aAAaC,QAAQ,uBAG3D,EAAwChI,IAAMyC,SAC5CyG,OAAOsB,YAAcJ,EAXW,GAa5BlB,OAAOsB,WAAaJ,GACjBlB,OAAOsB,YAAcH,EAbK,GAezBnB,OAAOsB,WAAaH,GACjBnB,OAAOsB,WAfc,IAQlC,mBAAOP,EAAP,KAAqBQ,EAArB,KAYSC,EAAI,EAAGA,EAAIT,EAAcS,IAC5BvK,EAAMwK,sBAAsBD,IAC9BJ,EAAeM,KAAKzK,EAAMwK,sBAAsBD,IAsCpD,OAlCA1K,IAAMwI,WAAU,WACG,YAAbW,EACGoB,EAEoC,IAA9BA,EAAmBP,QAC5B7J,EAAM0K,qBAAqB,4IAF3B1K,EAAM0K,qBAAqB,iLAIP,kBAAb1B,IACiB,KAAvBhJ,EAAM2K,aACP3K,EAAM0K,qBAAqB,6JAE3B1K,EAAM0K,qBAAqB1K,EAAM4K,sBAGpC,IAQH7B,OAAO8B,iBAAiB,UAAU,WAC5B9B,OAAOsB,YAAcJ,EACvBK,EApD8B,IAqDrBvB,OAAOsB,WAAaJ,GAC1BlB,OAAOsB,YAAcH,EACxBI,EAtD+B,GAuDtBvB,OAAOsB,WAAaH,GAC1BnB,OAAOsB,YApDe,KAqDzBC,EAxD8B,MA6DhCtK,EAAM8K,UAAY,cAAC,EAAD,CAAWA,UAAW9K,EAAM8K,YAC5C,0BAAS7K,UAAU,oBAAnB,UAC6B,IAA1BkK,EAAeN,OAEZ,oBAAI5J,UAAU,oBAAd,SACGkK,EAAeY,KAAI,SAAC1B,GACnB,OACE,6BACE,cAAC,EAAD,CACEK,wBAAyB1J,EAAM0J,wBAC/BN,aAAcpJ,EAAMoJ,aACpBC,cAAeA,KAJVA,EAAcjC,SAAWiC,EAAcjI,SAYtD,mBAAGnB,UAAW,6BAAd,SACGD,EAAM4K,oBAIb,cAAC,EAAD,CACEhB,OAAQO,EACRL,aAAcA,EACdL,QA9CoB,WAC1BV,OAAOsB,YAAcJ,EACjBK,EAAgBR,EAAe,GAC/BQ,EAAgBR,EAAe,UChBxBkB,MAhCf,SAAiBhL,GACf,IAAMiE,EAAS,SACTgH,EAAsBrD,aAAaC,QAAQ,8BAC3CqD,EAAuBtD,aAAaC,QAAQ,sBAClD,EAA4ChI,IAAMyC,SAAS,IAA3D,mBAAO6I,EAAP,KAAuBC,EAAvB,KAQA,OANAvL,IAAMwI,WAAU,WACV4C,GACFG,EAAkBpL,EAAMqL,SAASrL,EAAM4J,OAAQ,CAACsB,uBAAsBD,2BAExE,CAACA,IAGD,0BAAShL,UAAU,SAAnB,UACE,cAAC,EAAD,CAAQmD,SAAUpD,EAAMoD,WACxB,cAAC,EAAD,CACEoF,mBAAoBxI,EAAMsL,SAC1BrH,OAAQA,IAEV,cAAC,EAAD,CACE6G,UAAW9K,EAAM8K,UACjB1B,aAAcpJ,EAAMoJ,aACpBM,wBAAyB1J,EAAM0J,wBAC/Bc,sBAAuBS,EAAsBE,EAAiBnL,EAAM4J,OACpEgB,kBAAmB5K,EAAM4K,kBACzBF,qBAAsB1K,EAAM0K,uBAE9B,cAAC,EAAD,Q,MCnBSa,MAVf,WACE,OACE,sBAAKtL,UAAU,YAAf,UACE,oBAAIA,UAAU,mBAAd,iBACA,sBAAMA,UAAU,kBAAhB,sHACA,cAAC,IAAD,CAAMA,UAAU,oBAAoBiC,GAAG,IAAvC,gD,MC8DSsJ,MAlEf,SAAkBxL,GAChB,IAAMyL,EAAc5L,IAAM6L,WAAW9L,GACrC,EAAwBC,IAAMyC,SAASmJ,EAAY/K,MAAnD,mBAAOA,EAAP,KAAaiL,EAAb,KACA,EAA0B9L,IAAMyC,SAASmJ,EAAYlG,OAArD,mBAAOA,EAAP,KAAcqG,EAAd,KAQA,OACE,sBAAK3L,UAAU,iBAAf,UACE,cAAC,EAAD,CAAQmD,SAAUpD,EAAMoD,WACxB,0BAASnD,UAAU,UAAnB,UACE,qBAAIA,UAAU,iBAAd,mDAAwCwL,EAAY/K,KAApD,OACA,uBACET,UAAU,+BACVG,SAbkB,SAACwC,GACzBA,EAAEC,iBACF,IAAMgJ,EAAW,CAACnL,OAAM6E,SACxBvF,EAAM8L,cAAcD,IAQhB,UAIE,sBAAK5L,UAAU,qBAAf,UACE,mBAAGA,UAAU,0BAAb,gCACA,uBACEA,UAAU,iBACVQ,UAAU,EACVC,KAAK,OACLC,KAAK,OACLG,SAAU,SAAC8B,GAAD,OAAO+I,EAAQ/I,EAAEqB,OAAOhD,QAClCD,UAAQ,EACRC,MAAOP,GAAO,QAGlB,sBAAKT,UAAU,qBAAf,UACE,mBAAGA,UAAU,0BAAb,oBACA,uBACEA,UAAU,iBACVQ,UAAU,EACVC,KAAK,QACLC,KAAK,QACLG,SAAU,SAAC8B,GAAD,OAAOgJ,EAAShJ,EAAEqB,OAAOhD,QACnCD,UAAQ,EACRC,MAAOsE,GAAS,QAGpB,sBAAMtF,UAAU,0BAAhB,SACGD,EAAM+L,uBAET,wBACE9L,UAAU,uBACVU,KAAK,SACL,aAAW,iFAHb,4FAOA,cAAC,IAAD,CAAMuB,GAAG,IACPjC,UAAU,gBACVwJ,QAASzJ,EAAMgM,UAFjB,oH,gCC9CKC,EAXQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBnM,EAAY,iBAC7D,OACE,cAAC,IAAD,UACG,kBAAMA,EAAMoD,SACP,cAAC8I,EAAD,eAAelM,IACf,cAAC,IAAD,CAAUkC,GAAG,UCmEVkK,MAtEf,SAAmBpM,GACjB,MAAkCH,IAAMyC,UAAS,GAAjD,mBAAOhB,EAAP,KAAkBiB,EAAlB,KASA,OACE,sBAAKtC,UAAU,iBAAf,UACE,cAAC,IAAD,CAAMiC,GAAG,IAAT,SACE,qBACEjC,UAAU,YACVuC,IAAKC,EACLC,IAAI,iEAGR,cAAC,EAAD,CACEV,WAAW,+GACXC,QAAQ,uHACRU,mBAAmB,EACnBpC,mBAAmB,EACnBL,kBAAkB,EAClBkC,SAAS,iCACTD,YAAY,UACZhC,MAAM,+FACNC,SAzBN,SAAuBwC,GACrBA,EAAEC,iBACFN,GAAa,GACbvC,EAAMqM,WAAWrM,EAAM+C,UAAW/C,EAAMkB,WAAYlB,EAAMyB,eAC1Dc,GAAa,IAsBTX,uBAAwB5B,EAAM4B,uBAC9BV,WAAYlB,EAAMkB,WAClB6B,UAAW/C,EAAM+C,UACjBtB,cAAezB,EAAMyB,cACrBJ,kBAAmBrB,EAAMqB,kBACzB2B,iBAAkBhD,EAAMgD,iBACxBrB,qBAAsB3B,EAAM2B,qBAC5Bd,aAAcb,EAAMa,aACpBE,cAAef,EAAMe,cACrBQ,gBAAiBvB,EAAMuB,gBACvBC,iBAAkBxB,EAAMwB,iBACxBL,aAAcnB,EAAMmB,aACpBO,gBAAiB1B,EAAM0B,gBACvBG,YAAa7B,EAAM6B,YACnBC,YAAa9B,EAAMiD,aACnBlB,gBAAiB/B,EAAM+B,gBACvBT,UAAWA,EA1Bb,SA4BE,sBAAKrB,UAAU,gBAAf,UACE,uBAAOA,UAAU,oBAAjB,gCACA,uBACEA,UAAU,cACVQ,UAAU,EACVC,KAAK,OACLI,SAAUd,EAAMsM,aAChB1L,QAASZ,EAAMuM,YACf5L,KAAK,OACLK,UAAQ,EACRC,MAAOjB,EAAM+C,YAEb/C,EAAM+C,WAAa/C,EAAMwM,aAAgB,sBACvCvM,UAAU,oBACVmB,GAAG,yBAFoC,SAGpCpB,EAAMgD,4B,MCxBRyJ,MApCf,SAAsBzM,GACpB,IAAMiE,EAAS,eACTgH,EAAsBrD,aAAaC,QAAQ,uBAAuB5D,GAClEyI,EAA4B9E,aAAaC,QAAQ,eAAe5D,GACtE,EAAsDpE,IAAMyC,SAAS,IAArE,mBAAOqK,EAAP,KAA4BC,EAA5B,KAQA,OANA/M,IAAMwI,WAAU,WACV4C,GACF2B,EAAuB5M,EAAMqL,SAASrL,EAAM6M,YAAa,CAACH,4BAA2BzB,2BAEvF,CAACA,IAGD,0BAAShL,UAAU,eAAnB,UACE,cAAC,EAAD,CAAQmD,SAAUpD,EAAMoD,WACxB,cAAC,EAAD,CACEoF,mBAAoBxI,EAAMsL,SAC1BrH,OAAQA,IAEV,cAAC,EAAD,CACE6I,aAAc9M,EAAM8M,aACpBpD,wBAAyB1J,EAAM0J,wBAC/BoB,UAAW9K,EAAM8K,UACjB1B,aAAcpJ,EAAMoJ,aACpBhG,SAAUpD,EAAMoD,SAChBoH,sBAAuBS,EAAsB0B,EAAsB3M,EAAM6M,YACzEE,QAAS/M,EAAM+M,QACfpC,aAAc3K,EAAM2K,aACpBC,kBAAmB5K,EAAM4K,kBACzBF,qBAAsB1K,EAAM0K,uBAE9B,cAAC,EAAD,QC4BOsC,EAAW,SAACC,EAAcC,GACrC,MAA8BrN,IAAMyC,UAAS,GAA7C,mBAAO6K,EAAP,KAAgBC,EAAhB,KACA,EAA0BvN,IAAMyC,SAAS2K,GAAzC,mBAAOhM,EAAP,KAAcoM,EAAd,KACMC,EAnEqB,SAACrM,EAAOiM,GACnC,MAAwCrN,IAAMyC,UAAS,GAAvD,mBAAOiL,EAAP,KAAqBC,EAArB,KACA,EAAsC3N,IAAMyC,UAAS,GAArD,mBAAOT,EAAP,KAAoB4L,EAApB,KACA,EAAwC5N,IAAMyC,UAAS,GAAvD,mBAAOW,EAAP,KAAqByK,EAArB,KACA,EAA8C7N,IAAMyC,UAAS,GAA7D,mBAAOP,EAAP,KAAwB4L,EAAxB,KACA,EAAwC9N,IAAMyC,SAAS,IAAvD,mBAAOsL,EAAP,KAAqBC,EAArB,KAkDA,OAhDAhO,IAAMwI,WAAU,WACd,IAAK,IAAMyF,KAAcZ,EACvB,OAAQY,GACN,IAAK,eACgB,6GACJC,KAAKC,OAAO/M,GAAOgN,gBAChCP,GAAgB,GAChBG,EAAgB,MAEhBH,GAAgB,GAChBG,EAAgB,iJAElB,MACF,IAAK,cACe,2CACHE,KAAKC,OAAO/M,KAIzByM,GAAgB,GAChBG,EAAgB,MAJhBH,GAAgB,GAChBG,EAAgB,iSAKlB,MACF,IAAK,kBACC5M,EAAM4I,OAAS,GACjB8D,GAAmB,GACnBE,EAAgB,+NAEhBF,GAAmB,GACnBE,EAAgB,KAElB,MACF,QACEJ,GAAe,GACfC,GAAgB,GAChBC,GAAmB,MAGxB,CAAC1M,IAEJpB,IAAMwI,WAAU,WAEZmF,KADE3L,GAAeoB,GAAgBlB,MAKlC,CAACF,EAAaoB,EAAclB,IAExB,CACLwL,eACA1L,cACAoB,eACAlB,kBACA6L,gBAOYM,CAAcjN,EAAOiM,GAUnC,OAAO,aACLjM,QACAH,SAViB,SAAC8B,GAChByK,EAASzK,EAAEqB,OAAOhD,QAUpBL,QAPgB,SAACgC,GACfwK,GAAW,IAObD,WACGG,ICgVQa,MA/Yf,WACE,IAAMC,EAAUC,cACVrF,EAAWD,OAAOC,SAASC,SACjC,EAA0CpJ,IAAMyC,SAAS,MAAzD,mBAAOgM,EAAP,KAAsBC,EAAtB,KACA,EAAsC1O,IAAMyC,SAAS,IAArD,mBAAOmJ,EAAP,KAAoB+C,EAApB,KACA,EAA4B3O,IAAMyC,SAAS,IAA3C,mBAAOsH,EAAP,KAAe6E,EAAf,KACA,EAAkC5O,IAAMyC,UAAS,GAAjD,mBAAOwI,EAAP,KAAkB4D,EAAlB,KACA,EAAgC7O,IAAMyC,UAAS,GAA/C,mBAAOc,EAAP,KAAiBuL,EAAjB,KACA,EAAwD9O,IAAMyC,SAAS,IAAvE,mBAAOyJ,EAAP,KAA6B6C,EAA7B,KACA,EAA4D/O,IAAMyC,SAAS,IAA3E,mBAAOV,EAAP,KAA+BiN,EAA/B,KACA,EAA4ChP,IAAMyC,SAAS,IAA3D,mBAAOwM,EAAP,KAAuBC,EAAvB,KACA,EAAsClP,IAAMyC,SAAS,IAArD,oBAAOuK,GAAP,MAAoBmC,GAApB,MACA,GAA8DnP,IAAMyC,SAAS,IAA7E,qBAAO2M,GAAP,MACA,IADA,MACwCpP,IAAMyC,UAAS,IAAvD,qBAAO4M,GAAP,MAAqBC,GAArB,MAEA,GAAkDtP,IAAMyC,SAAsB,YAAb0G,EAC7D,gLACA,6JAFJ,qBAAO4B,GAAP,MAA0BF,GAA1B,MAKMhK,GAAO0O,EACD,GAAI,CACZvN,aAAa,IAEX0D,GAAQ6J,EACF,GAAI,CACZnM,cAAc,IAEZuC,GAAW4J,EACL,GAAI,CACZrN,iBAAiB,IAwCfsN,GAAoB,SAAC9J,EAAOC,GAChCd,EAAQ4K,MAAM/J,EAAOC,GACpBQ,MAAK,SAACuJ,GACL3H,aAAaU,QAAQ,QAASiH,EAAKjK,OACnCkB,EAAQgJ,mBAAmBD,EAAKjK,OAChCZ,EAAQ8K,mBAAmBD,EAAKjK,OAChCqJ,GAAY,GACZP,EAAQ3D,KAAK,WACbgF,QAEDvJ,OAAM,SAACC,GACQ,MAAVA,GACF0I,EAA0B,sLAEd,MAAV1I,GACF0I,EAA0B,kKAEd,MAAV1I,GACF0I,EAA0B,mFAE5BF,GAAY,OAyCNc,GAAuB,WAC3B/K,EAAQgL,iBACL1J,MAAK,SAAChB,GACLwJ,EAAexJ,MAEhBkB,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAIhBwJ,GAAkB,WACtB,OAAOpI,EAAUqI,YACd5J,MAAK,SAAChB,GACL4C,aAAaU,QAAQ,SAAUxC,KAAKC,UAAUf,OAE/CkB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEb0J,SAAQ,WACPnB,GAAa,OAIboB,GAAuB,WACvB1M,GACFoD,EAAQuJ,iBACL/J,MAAK,SAAChB,GACLgK,GAAehK,GACf4C,aAAaU,QAAQ,cAAexC,KAAKC,UAAUf,OAEpDkB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZyB,aAAaU,QAAQ,cAAexC,KAAKC,UAAU,SAKrDiK,GAAqB,SAACpG,EAAD,GAAqC,IAA3B9B,EAA0B,EAA1BA,YAAaG,EAAa,EAAbA,QAShD,OARuB2B,EACpBqG,QAAO,SAAAxJ,GAAK,OAAKA,EAAMY,OAAO4G,cAAciC,SAASpI,EAAYmG,kBACjEgC,QAAO,SAAAxJ,GAAK,OAAIwB,GAAUxB,EAAMG,UAAY,OA4B3CwC,GAAe,SAAC3C,GAKpB,OAJqBoG,GAClBsD,MAAK,SAAAC,GACJ,OAAO3J,EAAMrF,KAAOgP,EAAWhJ,SAAWX,EAAMW,UAAYgJ,EAAWhJ,YAKvEsC,GAA0B,SAACjD,EAAO0C,GAClCA,EACFkH,GAAkB5J,GAElB6J,GAAgB7J,IAId6J,GAAkB,SAAC7J,GACvBD,EAAQ+J,UAAU9J,GACfT,MAAK,SAAChB,GACLgK,GAAe,GAAD,mBAAKnC,IAAL,CAAkB7H,KAChC8K,QAED5J,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAIZkK,GAAoB,SAACG,GACzB,IAAIA,EAAkBpJ,QAAS,CAC7B,IAAMkH,EAAgBzB,GAAYoD,QAAO,SAACxJ,GAAD,OAAWA,EAAMW,UAAYoJ,EAAkBpP,MACxFoP,EAAoBlC,EAAc,GAEpC9H,EAAQiK,YAAYD,EAAkBE,KACnC1K,MAAK,SAAChB,GACLgK,GAAenC,GAAYoD,QAAO,SAACxJ,GAAD,OAAWA,EAAMrF,KAAOoP,EAAkBE,QAC5EZ,QAED5J,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAoDlB,OAhDAtG,IAAMwI,WAAU,WACAT,aAAaC,QAAQ,UAEjC8G,GAAY,GACZxJ,QAAQwL,IAAI,CAACjM,EAAQgL,iBAAkBlJ,EAAQuJ,mBAC5C/J,MAAK,YAA8B,IAAD,mBAA3BM,EAA2B,KAAjBuG,EAAiB,KACjC2B,EAAelI,GACf0I,GAAenC,GACfsC,IAAgB,GAChBW,QAED5J,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,OAExB0J,SAAQ,WACPV,IAAgB,OAGpBA,IAAgB,KAElB,CAAC/L,IAGHvD,IAAMwI,WAAU,WACd,IAAM/C,EAAQsC,aAAaC,QAAQ,SAC7B+I,EAAgB9K,KAAKkC,MAAMJ,aAAaC,QAAQ,WAChDgJ,EAAqB/K,KAAKkC,MAAMJ,aAAaC,QAAQ,gBACrDiH,EAAiBhJ,KAAKkC,MAAMJ,aAAaC,QAAQ,uBAEnD+I,GACFnC,EAAUmC,GACN9B,GACFC,EAAkBD,IAGpBa,KAEEkB,EACF7B,GAAe6B,GACNvL,GACTwK,OAED,CAAC1M,IAEJvD,IAAMwI,WAAU,WA3PAT,aAAaC,QAAQ,UAEjCnD,EAAQgL,iBACP1J,MAAK,SAAChB,GACDA,IACFwJ,EAAexJ,GACf2J,GAAY,GACZP,EAAQ3D,KAAKzB,OAGhB9C,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZyB,aAAakJ,WAAW,SACxB1C,EAAQ3D,KAAK,UAgPhB,IAGDyE,GAAe,cAAC,EAAD,CAAWpE,UAAWoE,KACrC,qBAAKjP,UAAU,iBAAf,SACE,cAACL,EAAmBmR,SAApB,CAA6B9P,MAAOwK,EAApC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnI,OAAK,EAACH,KAAK,IAAlB,SACE,cAAC,EAAD,CACEC,SAAUA,MAGd,cAAC,IAAD,CAAOD,KAAK,UAAZ,SACE,cAAC,EAAD,CACEkJ,WAzPiB,SAAC3L,EAAM6E,EAAOC,GACzCd,EAAQsM,SAAStQ,EAAM6E,EAAOC,GAC7BQ,MAAK,SAAChB,GACLqK,GAAkB9J,EAAOC,MAE1BU,OAAM,SAACC,GACQ,MAAVA,GACF0I,EAA0B,mMAEd,MAAV1I,GACF0I,EAA0B,kKAEd,MAAV1I,GACF0I,EAA0B,uFA6OpB3N,WAAYqE,GAAMtE,MAClBW,uBAAwBA,EACxBmB,UAAWrC,GAAKO,MAChBQ,cAAe+D,GAASvE,MACxBI,kBAAmBkE,GAAMqI,aACzB5K,iBAAkBtC,GAAKkN,aACvBjM,qBAAsB6D,GAASoI,aAC/B/M,aAAc,SAAA+B,GAAC,OAAI2C,GAAM3E,QAAQgC,IACjC7B,cAAe,SAAA6B,GAAC,OAAI2C,GAAMzE,SAAS8B,IACnC2J,YAAa,SAAA3J,GAAC,OAAIlC,GAAKE,QAAQgC,IAC/B0J,aAAc,SAAA1J,GAAC,OAAIlC,GAAKI,SAAS8B,IACjCrB,gBAAiB,SAAAqB,GAAC,OAAI4C,GAAS5E,QAAQgC,IACvCpB,iBAAkB,SAAAoB,GAAC,OAAI4C,GAAS1E,SAAS8B,IACzCzB,aAAcoE,GAAM4H,QACpBX,YAAa9L,GAAKyM,QAClBzL,gBAAiB8D,GAAS2H,QAC1BlK,aAAcsC,GAAMgI,aACpB1L,YAAanB,GAAK6M,aAClBxL,gBAAiByD,GAAS+H,iBAG9B,cAAC,IAAD,CAAOpK,KAAK,UAAZ,SACE,cAAC,EAAD,CACEL,QAASuM,GACTnO,WAAYqE,GAAMtE,MAClBW,uBAAwBA,EACxBmB,UAAWrC,GAAKO,MAChBQ,cAAe+D,GAASvE,MACxBI,kBAAmBkE,GAAMqI,aACzB5K,iBAAkBtC,GAAKkN,aACvBjM,qBAAsB6D,GAASoI,aAC/B/M,aAAc,SAAA+B,GAAC,OAAI2C,GAAM3E,QAAQgC,IACjC7B,cAAe,SAAA6B,GAAC,OAAI2C,GAAMzE,SAAS8B,IACnC2J,YAAa,SAAA3J,GAAC,OAAIlC,GAAKE,QAAQgC,IAC/B0J,aAAc,SAAA1J,GAAC,OAAIlC,GAAKI,SAAS8B,IACjCrB,gBAAiB,SAAAqB,GAAC,OAAI4C,GAAS5E,QAAQgC,IACvCpB,iBAAkB,SAAAoB,GAAC,OAAI4C,GAAS1E,SAAS8B,IACzCzB,aAAcoE,GAAM4H,QACpBX,YAAa9L,GAAKyM,QAClBzL,gBAAiB8D,GAAS2H,QAC1BlK,aAAcsC,GAAMgI,aACpB1L,YAAanB,GAAK6M,aAClBxL,gBAAiByD,GAAS+H,iBAG9B,cAAC,EAAD,CACEpB,UAAWX,EACXrI,KAAK,WACLJ,UAAWrC,GAAKO,MAChBC,WAAYqE,GAAMtE,MAClBmC,SAAUA,EACV0I,cAnPsB,SAACmF,GAC/BA,EAAKvQ,OAAS+K,EAAY/K,MAAQuQ,EAAK1L,QAAUkG,EAAYlG,MACzDqJ,EAAwB,kHACxBlK,EAAQwM,YAAYD,GACnBjL,MAAK,SAAC6F,GACL+C,EAAwB,0IACxBJ,EAAe3C,MAEhB3F,OAAM,SAACC,GACO,MAAVA,GACD0I,EAA0B,kKAEf,MAAV1I,GACD0I,EAA0B,wMAEf,MAAV1I,GACD0I,EAA0B,uFAoO1B7C,UApQY,WACpBwC,EAAe,CAAEjJ,MAAO,GAAI7E,KAAM,KAClCkH,aAAauJ,QACbpC,EAAkB,IAClBrK,EAAQ0M,SACLpL,MAAK,WACJ2I,GAAY,GACZP,EAAQ3D,KAAK,QAEdvE,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OA4PxB4F,qBAAsBA,IAExB,cAAC,EAAD,CACEI,UAAWnB,EACX7H,KAAK,UACLC,SAAUA,EACVwG,OAAQkF,EACRxD,SAtLuB,SAAC,GAA4B,IAA3BxD,EAA0B,EAA1BA,YAAaG,EAAa,EAAbA,QAC9C0H,KACG3J,MAAK,WACJqL,YAAW,kBAAM3C,GAAa,KAAQ,KACtC,IAAM/D,EAAeqF,GAAmBpG,EAAQ,CAAC9B,cAAaG,YAC9D8G,EAAkBpE,GAClB/C,aAAaU,QAAQ,qBAAsBxC,KAAKC,UAAU4E,IAClC,IAAxBA,EAAad,OACTa,GAAqB,4IACrBA,GAAqB,QA8KrBW,SAAU2E,GACVtG,wBAAyBA,GACzBN,aAAcA,GACdsF,aAAcA,EACd5D,UAAWA,EACXF,kBAAmBA,GACnBF,qBAAsBA,KAExB,cAAC,EAAD,CACEyB,UAAWM,EACXtJ,KAAK,gBACL2J,aAAcwB,EACdxD,UAAWA,EACXwG,0BAA2BhD,EAC3BlF,aAAcA,GACdhG,SAAUA,EACVmO,aAjRa,WACrBhD,EAAiB,OAiRTjD,SA3L4B,SAACxD,GACrCuJ,YAAW,kBAAM3C,GAAa,KAAQ,KACtC,IAAMmC,EAAqB/K,KAAKkC,MAAMJ,aAAaC,QAAQ,gBAC3DmH,GAAegB,GAAmBa,EAAoB/I,KAyL9C0J,gBAAiBjD,EACjBG,aAAcA,EACdhF,wBAAyBA,GACzBmD,YAAaA,GACblC,aAAcsE,GACdwC,aAAc/C,EACd9D,kBAAmBA,GACnBF,qBAAsBA,KAExB,cAAC,IAAD,CAAOpH,OAAK,EAACH,KAAK,IAAlB,SACE,cAAC,EAAD,cChZGuO,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5L,MAAK,YAAkD,IAA/C6L,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,QCERrM,EAAQsC,aAAaC,QAAQ,SACnCrB,EAAQgJ,mBAAmBlK,GAC3BZ,EAAQ8K,mBAAmBlK,GAE3B4M,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAG1BZ,O","file":"static/js/main.c4a51352.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUser = {};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\n\nfunction Form (props) {\n  \n  return (\n    <div className={`${props.containsAnyForms \n      ? 'form-container' \n      : 'form-container_hidden'}\n    `}>\n      <h2 className='form__title'>{props.title}</h2>\n      <form \n        className='form'\n        onSubmit={props.onSubmit}\n        noValidate\n        autoComplete='off'\n      >\n        <div className={`${props.containsAnyInputs \n          ? 'form__inputs' : 'form__inputs_hidden'}`}>\n          {props.children}\n          <div className=\"form__section\">\n            <label className='form__input-label'>E-mail</label>\n            <input\n              className='form__input'\n              disabled={false}\n              name='email' \n              type='email'\n              onFocus={props.onEmailFocus}\n              onChange={props.onEmailChange}\n              required\n              value={props.emailValue}\n            />\n            {(props.emailValue && props.isEmailDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.emailErrorMessage}\n            </span>}\n          </div>\n          <div>\n          <label className='form__input-label'>Пароль</label>\n            <input\n              className='form__input'\n              disabled={props.isRequest ? true : false}\n              name='password' \n              type='password'\n              onFocus={props.onPasswordFocus}\n              onChange={props.onPasswordChange}\n              required\n              value={props.passwordValue}\n            />\n            {(props.passwordValue && props.isPasswordDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.passwordErrorMessage}\n            </span>}\n          </div>\n        </div>\n        <label className='form__submit-btn-container'>\n          <span className=\"form__submit-error-message\">\n            {props.formSubmitErrorMessage}\n          </span>\n          <button\n            className={`form__submit-btn opacity-transition\n              ${props.isNameValid && props.isEmalValid \n                && props.isPasswordValid && !props.isRequest\n                ? 'form__submit-btn_active'\n                : 'form__submit-btn_disabled'\n              }\n            `}\n            type='submit'\n            disabled={props.isNameValid && props.isEmalValid\n              && props.isPasswordValid && !props.isRequest\n            ? false\n            : true\n          }\n          >\n            {props.buttonText}\n          </button>\n          <p className='form__link-caption'>\n            {props.caption} \n            <Link to={`${props.linkEndpoit}`} className='form__auth-link'>\n              {props.linkText}\n            </Link>\n          </p>\n        </label>\n      </form>\n    </div>\n  )\n}\n\nexport default Form;\n","export default __webpack_public_path__ + \"static/media/logo.2629e1f9.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Form from '../Form/Form';\nimport logo from '../../images/logo.svg';\n\nfunction Login (props) {\n  const [isRequest, setIsRequest] = React.useState(false);\n\n  function handleSubmit (e) {\n    e.preventDefault();\n    setIsRequest(true);\n    props.onLogin(props.emailValue, props.passwordValue);\n    setIsRequest(false);\n  }\n\n  return (\n    <div className='page_type_auth'>\n     <Link to='/'> \n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link> \n      <Form\n        buttonText='Войти'\n        caption='Ещё не зарегистрированы?'\n        containsAnyImages={false}\n        containsAnyInputs={true}\n        containsAnyForms={true}\n        linkText='Регистрация'\n        linkEndpoit='/signup'\n        title='Рады видеть!'\n        onSubmit={handleSubmit}\n        formSubmitErrorMessage={props.formSubmitErrorMessage}\n        emailValue={props.emailValue}\n        nameValue={props.nameValue}\n        passwordValue={props.passwordValue}\n        emailErrorMessage={props.emailErrorMessage}\n        nameErrorMessage={props.nameErrorMessage}\n        passwordErrorMessage={props.passwordErrorMessage}\n        onEmailFocus={props.onEmailFocus}\n        onEmailChange={props.onEmailChange}\n        onPasswordFocus={props.onPasswordFocus}\n        onPasswordChange={props.onPasswordChange}\n        isEmailDirty={props.isEmailDirty}\n        isPasswordDirty={props.isPasswordDirty}\n        isNameValid={true}\n        isEmalValid={props.isEmailValid}\n        isPasswordValid={props.isPasswordValid}\n        isRequest={isRequest}\n      />\n    </div>\n  )\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/navigation__profile-icon.3486dc2f.svg\";","import React from 'react';\nimport { Route, Switch, NavLink } from 'react-router-dom';\nimport './Navigation.css';\nimport icon from '../../images/navigation__profile-icon.svg';\n\nfunction Navigation (props) {\n  return ( \n    <nav className='navigation'>\n      <Switch>\n        <Route path='/'>\n          <div className={`\n            ${!props.loggedIn \n              ? 'navigation__links_visible'\n              : 'navigation__links_hidden' \n            }`}\n          >\n            <div className='navigation__links-not-auth'>\n              <NavLink \n                to='signup'\n                className='navigation__link'\n              >\n                Регистрация\n              </NavLink>\n              <NavLink \n                to='signin' \n                className='navigation__link navigation__link_type_signin'\n              >\n                Войти\n              </NavLink>\n            </div>\n          </div>\n          <input id='navigation__menu-toggle' type='checkbox'/>\n          <label\n            className={`\n            ${props.loggedIn \n              ? 'navigation__menu-btn'\n              : 'navigation__menu-btn_hidden' \n            }`}\n            htmlFor='navigation__menu-toggle'\n          >\n            <span className='navigation__menu-btn-line'></span>\n\t        </label>\n          <section className='navigation__menu'>\n            <div className='navigation__menu-background'></div>\n            <div className='navigation__menu-container'>\n              <div className={`\n                ${props.loggedIn\n                  ? 'navigation__links_visible'\n                  : 'navigation__links_hidden' \n                }`}\n              >\n                <div className='navigation__links-auth'>\n                  <NavLink \n                    exact to='/' \n                    className='navigation__link navigation__link_type_main'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Главная\n                  </NavLink>\n                  <NavLink \n                    to='/movies' \n                    className='navigation__link'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Фильмы\n                  </NavLink>\n                  <NavLink \n                    to='saved-movies' \n                    className='navigation__link'\n                    activeClassName=\"navigation__link_active\"\n                  >\n                    Сохранённые фильмы\n                  </NavLink>\n                </div>\n                <NavLink \n                  to='profile' \n                  className='navigation__link navigation__link_type_profile'\n                  activeClassName=\"navigation__link_active\"\n                >\n                  Аккаунт\n                  <img className='navigation__profile-icon' \n                    src={icon} \n                    alt='иконка со ссылкой на страницу профиля'\n                  />\n                </NavLink>\n              </div>\n            </div>\n          </section>\n        </Route>\n      </Switch>\n    </nav>\n  );\n}\n\nexport default Navigation\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Header.css';\nimport Navigation from '../Navigation/Navigation';\nimport logo from '../../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className='header'>\n      <Link to='/' className='header__link'>\n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link>\n      <Navigation loggedIn={props.loggedIn}/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './NavTab.css';\n\nfunction NavTab () {\n  return ( \n    <ul className='nav-tab'>\n      <li className='nav-tab__item'>\n        <a href='#about-project' className='nav-tab__link'>О проекте</a>\n      </li>\n      <li className='nav-tab__item'>\n        <a href='#techs' className='nav-tab__link'>Технологии</a>\n      </li>\n      <li className='nav-tab__item'>\n        <a href='#about-me' className='nav-tab__link'>Студент</a>\n      </li>\n    </ul>\n  );\n}\n\nexport default NavTab","import React from 'react';\nimport './Promo.css';\nimport NavTab from '../NavTab/NavTab';\n\nfunction Promo () {\n  return ( \n    <section className='promo'>\n      <h1 className='promo__title'>Учебный проект студента факультета Веб-разработки.</h1>\n      <NavTab/>\n    </section>\n  );\n}\n\nexport default Promo","import React from 'react';\nimport './AboutProject.css';\n\nfunction AboutProject () {\n  return ( \n    <section className='about-project' id='about-project'>\n      <h2 className='app__section-title '>О проекте</h2>\n      <div className='about-project__info'>\n        <div className='about-project__stages'>\n          <h3 className='about-project__heading'>\n            Дипломный проект включал 5 этапов\n          </h3>\n          <p className='about-project__text'>\n            Составление плана, работу над бэкендом, вёрстку, добавление \n            функциональности и финальные доработки.\n          </p>\n        </div>\n        <div className='about-project__stages'>\n          <h3 className='about-project__heading'>\n            На выполнение диплома ушло 5 недель\n          </h3>\n          <p className='about-project__text'>\n            У каждого этапа был мягкий и жёсткий дедлайн, \n            которые нужно было соблюдать, чтобы успешно защититься.\n          </p>\n        </div>\n      </div>\n      <div className='about-project__scale'>\n        <p className='about-project__scale-value'>1 неделя</p>\n        <p className='about-project__scale-value'>4 недели</p>\n      </div>\n      <div className='about-project__scale-captures'>\n        <p className='about-project__scale-capture'>Back-end</p>\n        <p className='about-project__scale-capture'>Front-end</p> \n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject\n","import React from 'react';\nimport './Techs.css';\n\nfunction Techs () {\n  return ( \n    <section className='techs' id='techs'>\n      <h2 className='app__section-title '>Технологии</h2>\n      <h3 className='techs__title techs__heading'>7 технологий</h3>\n      <p className='techs__capture'>\n        На курсе веб-разработки мы освоили технологии, \n        которые применили в дипломном проекте.\n      </p>\n      <ul className='techs__list'>\n        <li className='techs__list-item'>HTML</li>\n        <li className='techs__list-item'>CSS</li>\n        <li className='techs__list-item'>JS</li>\n        <li className='techs__list-item'>React</li>\n        <li className='techs__list-item'>Git</li>\n        <li className='techs__list-item'>Express.js</li>\n        <li className='techs__list-item'>mongoDB</li>\n      </ul>\n    </section>\n  );\n}\n\nexport default Techs","export default __webpack_public_path__ + \"static/media/about-me__photo.c3de3540.jpg\";","import React from 'react';\nimport './Contacts.css';\n\nfunction Contacts (props) {\n  return (\n    <ul className={`${props.parentClassName === 'about-me' \n    ? 'contacts contacts-reversed' \n    : 'contacts contacts_place_footer'}\n  `}>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item_hidden' \n        : 'contacts__item contacts__item_place_footer'}\n      `}>\n        <a className='contacts__link' \n          href='https://practicum.yandex.ru/'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Яндекс.Практикум\n        </a>\n      </li>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item' \n        : 'contacts__item contacts__item_place_footer'}\n      `}>\n        <a className={`contacts__link\n          ${props.parentClassName === 'about-me' \n            ? 'contacts__link_place_about-me' \n            : 'contacts__link_place_footer'}\n        `}\n          href='https://github.com/Tatiana-Novikova'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Github\n        </a>\n      </li>\n      <li className={`${props.parentClassName === 'about-me' \n        ? 'contacts__item' \n        : 'contacts__item_place_footer'}\n      `}>\n        <a className={`contacts__link\n          ${props.parentClassName === 'about-me' \n            ? 'contacts__link_place_about-me' \n            : 'contacts__link_place_footer'}\n        `}\n          href='https://www.facebook.com/tanya.novikova.3597'\n          target='_blank'\n          rel='noreferrer nofollow'\n        >\n          Facebook\n        </a>\n      </li>\n    </ul>\n  );\n}\n\nexport default Contacts;\n","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio () {\n  return ( \n    <section className='portfolio'>\n      <h3 className='portfolio__heading'>Портфолио</h3>\n      <ul className='portfolio__links'>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://github.com/Tatiana-Novikova/how-to-learn'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Статичный сайт\n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://tatiana-novikova.github.io/russian-travel/'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Адаптивный сайт \n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n        <li className='portfolio__links-item'>\n          <a \n            className='portfolio__link'\n            href='https://mesto-project.students.nomoredomains.club/'\n            target='_blank'\n            rel='noreferrer nofollow'\n          >\n            Одностраничное приложение\n            <span className='portfolio__link-arrow'>&#8599;</span>\n          </a>\n        </li>\n      </ul>    \n    </section>\n  );\n}\n\nexport default Portfolio\n","import React from 'react';\nimport './AboutMe.css';\nimport photo from '../../images/about-me__photo.jpg';\nimport Contacts from '../Contacts/Contacts';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction AboutMe () {\n  return ( \n    <section className='about-me' id='about-me'>\n      <h2 className='app__section-title '>Студент</h2>\n      <div className='about-me__student-info'>\n        <div className='about-me__student-info-container'>\n          <div>\n            <h3 className='about-me__name'>Татьяна</h3>\n            <p className='about-me__capture'>\n              Фронтенд-разработчик, 28 лет\n            </p>\n            <p className='about-me__text'>\n              Я родилась и живу в Москве, закончила факультет менеджмента МЭСИ. \n              Люблю слушать музыку, петь и учусь играть на укулеле. \n              Ещё со школы люблю информатику и вот недавно начала кодить.\n              Чтобы научиться этому и найти работу в новой профессии, выбрала Яндекс практикум.\n            </p>\n          </div>\n          <Contacts parentClassName='about-me'/>\n        </div>\n        <img \n          className='about-me__photo'\n          alt='фотография студента'\n          src={photo}\n        />\n      </div>\n      <Portfolio/>\n    </section>\n  );\n}\n\nexport default AboutMe\n","import React from 'react';\nimport './Footer.css';\nimport Contacts from '../Contacts/Contacts';\n\nfunction Footer () {\n  return (\n    <footer className='footer'>\n      <p className='footer__project-info'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\n        <div className='footer__copyrights'>\n          <p className='footer__date'>\n          &copy; {new Date().getFullYear()}\n          </p>\n          <Contacts parentClassName='footer'/>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nimport Header from '../Header/Header';\nimport Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Footer from '../Footer/Footer';\n\nfunction Main (props) {\n  return ( \n    <main className='main'>\n      <Header loggedIn={props.loggedIn}/>\n      <Promo/>\n      <AboutProject/>\n      <Techs/>\n      <AboutMe/>\n      <Footer/>\n    </main>\n  );\n}\n\nexport default Main\n","class Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  setupAuthorization(token) {\n    if (token) {\n      this._headers['Autharization'] = token;\n    } else {\n      delete this._headers['Autharization'];\n    }\n  }\n \n  register(name, email, password) { \n    return fetch(`${this._address}/signup`, { \n      method: 'POST', \n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({ name, email, password }),\n    })\n    .then(this._checkResponse)\n  }\n  \n  login(email, password) { \n    return fetch(`${this._address}/signin`, { \n      method: 'POST',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({ email, password }) \n    }) \n    .then(this._checkResponse)\n  }\n\n  logout() {\n    return fetch(`${this._address}/signout`, {\n      method: 'DELETE',\n      credentials: 'include',\n    })\n    .then(this._checkResponse)\n    .catch((error) => {\n      console.log(error);\n    });\n  };\n\n  getCurrentUser() {\n    return fetch(`${this._address}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then(this._checkResponse);\n  }\n\n  editProfile(userInfo) {\n    return fetch(`${this._address}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        name: userInfo.name,\n        email: userInfo.email,\n      }),\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst AuthApi = new Api ({\n  address: 'https://api.movies-explorer.nomoredomains.work',\n})\n\nexport default AuthApi;\n","const BASE_MOVIE_URL = 'https://api.nomoreparties.co';\n\nclass Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  setupAuthorization(token) {\n    if (token) {\n      this._headers['Autharization'] = token;\n    } else {\n      delete this._headers['Autharization'];\n    }\n  }\n\n  getCurrentUser() {\n    return fetch(`${this._address}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n      credentials: 'include',\n    })\n      .then(this._checkResponse);\n  }\n\n  getSavedMovies() {\n    return fetch(`${this._address}/movies`, {\n      method: 'GET',\n      credentials: 'include',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  saveMovie(movie) {\n    return fetch(`${this._address}/movies`, {\n      method: 'POST',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        country: movie.country,\n        director: movie.director,\n        duration: movie.duration,\n        year: movie.year,\n        description: movie.description,\n        image: BASE_MOVIE_URL + movie.image.url,\n        trailerLink: movie.trailerLink,\n        thumbnail: BASE_MOVIE_URL + movie.image.formats.thumbnail.url,\n        movieId: movie.id,\n        nameRU: movie.nameRU,\n        nameEN: movie.nameEN,\n      }),\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteMovie(id) {\n    return fetch(`${this._address}/movies/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n}\n\nconst MainApi = new Api ({\n  address: 'https://api.movies-explorer.nomoredomains.work',\n})\n\nexport default MainApi;\n","class Api {\n  constructor(options) {\n    this._address = options.address;\n    this._headers = {\n      'Content-Type': 'application/json',\n    };\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n\n  getMovies() {\n    return fetch(this._address, {\n      method: 'GET',\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n}\n  \nconst MoviesApi = new Api ({\n  address: 'https://api.nomoreparties.co/beatfilm-movies',\n})\n  \nexport default MoviesApi;\n","import React from 'react';\nimport './FilterCheckbox.css';\n\nfunction FilterCheckbox (props) {          \n  return (\n      <div className='filterCheckbox'>\n        <label \n          className='filterCheckbox__label'\n          htmlFor='filterCheckbox-toggle'\n        >\n          <input \n            className='filterCheckbox__check'\n            type='checkbox'\n            checked={props.isChecked}\n            onChange={ (e) => {\n              props.onChange(e.target.checked);\n            }}\n            id='filterCheckbox-toggle'\n            disabled={false}\n           />\n          <span className='filterCheckbox__capture'>Короткометражки</span>\n        </label>\n      </div>\n  )\n}\n\nexport default FilterCheckbox;\n","import React from 'react';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport './SearchForm.css';\n\nfunction SearchForm (props) {\n  const [isRequest, setIsRequest] = React.useState(false);\n  const [searchQuery, setSearchQuery] = React.useState(localStorage.getItem('searchQuery:'+props.target) || '');\n  const [isShort, setIsShort] = React.useState(() => {\n    const saved = JSON.parse(localStorage.getItem('checkboxState:'+props.target));\n    return saved || '';\n  });\n  const searchQueryRef = React.useRef(searchQuery);\n\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    localStorage.setItem('searchQuery:'+props.target, searchQuery);\n    setIsRequest(true);\n    props.onSearchFormSubmit({ searchQuery, isShort });\n    setIsRequest(false);\n  }\n \n  const onCheckboxChange = (isChecked) => {\n    localStorage.setItem('checkboxState:'+props.target, Boolean(isChecked));\n    props.onSearchFormSubmit({ searchQuery, isShort:isChecked });\n    setIsShort(isChecked);\n  }\n\n  React.useEffect(() => {\n    localStorage.setItem('checkboxState:'+props.target, Boolean(isShort));\n  }, [isShort])\n\n  return (\n    <form \n    className='search-form'\n    onSubmit={handleSearch}\n    noValidate \n    autoComplete='off'\n  > \n    <div className='search-form__container'>\n      <div className='search-form__icon'></div> \n        <div className='search-form__input-container'>\n          <input\n            className='search-form__input'\n            ref={searchQueryRef}\n            id='query' \n            name='query' \n            type='text'\n            placeholder='Фильм'\n            onChange={ (e) => setSearchQuery(e.target.value) }\n            value={searchQuery}\n            required\n          />\n          <button\n            className={`search-form__submit-btn opacity-transition\n              ${(searchQuery !== '')  && !isRequest\n                ? 'search-form__submit-btn_active'\n                : 'search-form__submit-btn_disabled'\n              }\n            `} \n            type='submit'\n            disabled={(searchQuery !== '') && !isRequest ? false : true\n            }\n          >\n            Найти\n          </button>\n        </div>\n      <FilterCheckbox\n        onChange={onCheckboxChange}\n        isChecked={isShort}\n      />\n    </div>\n  </form>\n  );\n}\n\nexport default SearchForm\n","import React from 'react'; \nimport './Movie.css';\n\nfunction Movie (props) {\n  const [saveBtnState, setSaveBtnState] = React.useState(false);\n  const isOnSavedMovies = window.location.pathname === '/saved-movies';\n  const isOnMovies = window.location.pathname === '/movies';\n  const isSaved = props.isSavedCheck(props.movieToRender);\n\n  const handleSaveCardClick = () => {\n    setSaveBtnState(!saveBtnState);\n    props.handleSaveOrDeleteClick(props.movieToRender, isSaved);\n  }\n\n  return (\n    <article>\n     <a className=\"movie__link\" \n        href={isOnSavedMovies \n          ? `${props.movieToRender.trailer}`\n          : `${props.movieToRender.trailerLink}`\n        }\n        target=\"_blank\" \n        rel=\"noreferrer\"\n      >\n        <img \n          className='movie__image' \n          src={isOnMovies\n            ? 'https://api.nomoreparties.co' + props.movieToRender.image.url\n            :  props.movieToRender.image\n          } \n          alt={props.movieToRender.nameRU}\n        />\n      </a>\n      <div className='movie__info'>\n        <div className='movie__main'>\n          <h2 className='movie__title'>{props.movieToRender.nameRU}</h2>\n          <span className='movie__duration'>\n            {Math.floor(props.movieToRender.duration/60)}ч{props.movieToRender.duration%60}м\n          </span>\n        </div>\n          <button\n            className={`\n              ${isSaved\n                ? 'movie__btn_active'\n                : 'movie__btn_disabled' \n              }\n              ${isOnMovies\n                ? 'movie__btn_type_save'\n                : 'movie__btn_type_delete'\n              }\n            `}\n            type='button' \n            aria-label='Сохранить/Удалить' \n            onClick={handleSaveCardClick}\n          >\n          </button>\n      </div>\n    </article>\n  )\n}\n\nexport default Movie;\n","import './MoreBtn.css';\n\nfunction MoreBtn (props) {\n\n  return (\n    <button \n      className={`${props.movies.length >= props.maxMoviesNum \n        ? `more-btn` \n        : `more-btn_hidden`\n      }`}\n      type='button' \n      aria-label='Показать больше карточек' \n      onClick={props.onClick}\n      disabled={false}\n    >\n      Ещё\n    </button>\n  )\n}\n\nexport default MoreBtn","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div>\n    </div>\n  )\n};\n\nexport default Preloader\n","import React from 'react';\nimport './MoviesCardList.css';\nimport Movie from '../Movie/Movie';\nimport MoreBtn from '../MoreBtn/MoreBtn';\nimport Preloader from '../Preloader/Preloader';\n\nfunction MoviesCardList (props) {\n  const location = window.location.pathname;\n  const maxMoviesNumOnLargeScreen = 16;\n  const maxMoviesNumOnMiddleScreen = 8;\n  const maxMoviesNumOnSmallScreen = 5;\n  const largeScreenSizePoint = 1280;\n  const middleScreenSizePoint = 768;\n  const smallScreenSizePoint = 320;\n  let moviesToRender = [];\n  const lastSearchedMovies = JSON.parse(localStorage.getItem('lastSearchedMovies'));\n  // let captureText = '';\n \n  const [maxMoviesNum, setMaxMoviesNum] = React.useState(\n    window.innerWidth >= largeScreenSizePoint\n      ? maxMoviesNumOnLargeScreen\n      : window.innerWidth < largeScreenSizePoint \n        && window.innerWidth >= middleScreenSizePoint\n          ? maxMoviesNumOnMiddleScreen\n          : window.innerWidth < middleScreenSizePoint \n            && window.innerWidth >= smallScreenSizePoint\n              ? maxMoviesNumOnSmallScreen\n              : maxMoviesNumOnSmallScreen\n  );\n\n  for (let i = 0; i < maxMoviesNum; i++) {\n    if (props.moviesToPrerenderList[i]) {\n      moviesToRender.push(props.moviesToPrerenderList[i]);\n    }\n  }\n\n  React.useEffect(() => {\n    if (location === '/movies') {\n      if (!lastSearchedMovies) {\n        props.setMoviesListCaption('Чтобы найти фильм, введите запрос');\n      } else if (lastSearchedMovies.length === 0) {\n        props.setMoviesListCaption('Фильм по запросу не найден');\n      }\n    } else if (location === '/saved-movies') {\n      if(props.searchResult === '') {\n        props.setMoviesListCaption('Сохранённых фильмов пока нет');\n      } else {\n        props.setMoviesListCaption(props.moviesListCaption);\n      }\n    }\n  }, [])\n\n  const handleShowMoreClick = () => {\n    window.innerWidth >= largeScreenSizePoint\n      ? setMaxMoviesNum(maxMoviesNum + 4)\n      : setMaxMoviesNum(maxMoviesNum + 2);\n  }\n\n  window.addEventListener('resize', () => {\n    if (window.innerWidth >= largeScreenSizePoint) {\n      setMaxMoviesNum(maxMoviesNumOnLargeScreen);\n    } else if (window.innerWidth < largeScreenSizePoint \n      && window.innerWidth >= middleScreenSizePoint) {\n      setMaxMoviesNum(maxMoviesNumOnMiddleScreen);\n    } else if (window.innerWidth < middleScreenSizePoint \n      && window.innerWidth >= smallScreenSizePoint) {\n      setMaxMoviesNum(maxMoviesNumOnSmallScreen);\n    } \n  })\n\n  return (\n    props.isLoading ? <Preloader isLoading={props.isLoading} /> : \n      <section className='movies-cards-list'>\n        {moviesToRender.length !== 0 \n          ? (\n            <ul className='movies-cards-grid'>\n              {moviesToRender.map((movieToRender) => {\n                return (\n                  <li key={movieToRender.movieId || movieToRender.id}>\n                    <Movie\n                      handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n                      isSavedCheck={props.isSavedCheck}\n                      movieToRender={movieToRender}\n                    />\n                  </li>\n                )\n              })}\n            </ul>\n            ) \n          : (\n            <p className={'movies-cards-list__capture'}>\n              {props.moviesListCaption}\n            </p>\n          )\n        }\n        <MoreBtn\n          movies={moviesToRender}\n          maxMoviesNum={maxMoviesNum}\n          onClick={handleShowMoreClick}\n        />\n      </section>\n  );\n}\n\nexport default MoviesCardList\n","import React from 'react';\nimport './Movies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\n\nfunction Movies (props) {\n  const target = 'movies';\n  const filterCheckboxState = localStorage.getItem('filterCheckboxState:'+target);\n  const searchQueryForMovies = localStorage.getItem('searchQuery:'+target);\n  const [filteredMovies, setFilteredMovies] = React.useState([]);\n\n  React.useEffect(() => {\n    if (filterCheckboxState) {\n      setFilteredMovies(props.onFilter(props.movies, {searchQueryForMovies, filterCheckboxState}));\n    }\n  },[filterCheckboxState]);\n\n  return ( \n    <section className='movies'>\n      <Header loggedIn={props.loggedIn}/>\n      <SearchForm\n        onSearchFormSubmit={props.onSearch}\n        target={target}\n      />\n      <MoviesCardList\n        isLoading={props.isLoading}\n        isSavedCheck={props.isSavedCheck}\n        handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n        moviesToPrerenderList={filterCheckboxState ? filteredMovies : props.movies}\n        moviesListCaption={props.moviesListCaption}\n        setMoviesListCaption={props.setMoviesListCaption}\n      />\n      <Footer/>\n    </section>\n  );\n}\n\nexport default Movies\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './PageNotFound.css';\n\nfunction PageNotFound () {\n  return (\n    <div className='not-found'>\n      <h3 className='not-found__title'>404</h3>\n      <span className='not-found__text'>Страница не найдена</span>\n      <Link className='not-found__button' to='/'>Назад</Link>\n    </div>\n  )\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Profile.css';\nimport Header from '../Header/Header';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Profile (props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(currentUser.name);\n  const [email, setEmail] = React.useState(currentUser.email);\n\n  const handleEditProfile = (e) => {\n    e.preventDefault();\n    const userData = {name, email};\n    props.onEditProfile(userData);\n  }\n\n  return ( \n    <div className='page-container'>\n      <Header loggedIn={props.loggedIn}/>\n      <section className='profile'>\n        <h2 className='profile__title'>Привет, {currentUser.name}!</h2>\n        <form \n          className='profile__user-info-container'\n          onSubmit={handleEditProfile}\n        >\n          <div className='profile__user-info'>\n            <p className='profile__user-info_data'>Имя</p>\n            <input \n              className='profile__input'\n              disabled={false}\n              name='name' \n              type='text'\n              onChange={(e) => setName(e.target.value)}\n              required\n              value={name|| ''}\n            />\n          </div>\n          <div className='profile__user-info'>\n            <p className='profile__user-info_data'>E-mail</p>\n            <input \n              className='profile__input'\n              disabled={false}\n              name='email' \n              type='email'\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              value={email || ''}\n            />\n          </div>\n          <span className=\"profile__submit-message\">\n            {props.profileSubmitMessage}\n          </span>\n          <button\n            className='profile__edit-button'\n            type='submit'\n            aria-label='Редактировать'\n          >\n            Редактировать\n          </button>\n          <Link to='/' \n            className='profile__link'\n            onClick={props.onSignOut}\n          >\n            Выйти из аккаунта\n          </Link>\n        </form>\n      </section>\n    </div>\n  );\n}\n\nexport default Profile\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() => props.loggedIn \n          ? <Component {...props}/> \n          : <Redirect to='/' />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Form from '../Form/Form';\nimport logo from '../../images/logo.svg';\n\nfunction Register (props) {\n  const [isRequest, setIsRequest] = React.useState(false);\n    \n  function handleSubmit (e) {\n    e.preventDefault();\n    setIsRequest(true);\n    props.onRegister(props.nameValue, props.emailValue, props.passwordValue);\n    setIsRequest(true);\n  }\n\n  return (\n    <div className='page_type_auth'>\n      <Link to='/'> \n        <img \n          className='app__logo'\n          src={logo}\n          alt='логотип movies-explorer'\n        />\n      </Link>\n      <Form\n        buttonText='Зарегистрироваться'\n        caption='Уже зарегистрированы?'\n        containsAnyImages={false}\n        containsAnyInputs={true}\n        containsAnyForms={true}\n        linkText='Войти'\n        linkEndpoit='/signin'\n        title='Добро пожаловать!'\n        onSubmit={handleSubmit}\n        formSubmitErrorMessage={props.formSubmitErrorMessage}\n        emailValue={props.emailValue}\n        nameValue={props.nameValue}\n        passwordValue={props.passwordValue}\n        emailErrorMessage={props.emailErrorMessage}\n        nameErrorMessage={props.nameErrorMessage}\n        passwordErrorMessage={props.passwordErrorMessage}\n        onEmailFocus={props.onEmailFocus}\n        onEmailChange={props.onEmailChange}\n        onPasswordFocus={props.onPasswordFocus}\n        onPasswordChange={props.onPasswordChange}\n        isEmailDirty={props.isEmailDirty}\n        isPasswordDirty={props.isPasswordDirty}\n        isNameValid={props.isNameValid}\n        isEmalValid={props.isEmailValid}\n        isPasswordValid={props.isPasswordValid}\n        isRequest={isRequest}\n      >\n        <div className=\"form__section\">\n          <label className='form__input-label'>Имя</label>\n          <input\n            className='form__input'\n            disabled={false}\n            name='name'\n            onChange={props.onNameChange}\n            onFocus={props.onNameFocus}\n            type='text'\n            required\n            value={props.nameValue}\n          />\n          {(props.nameValue && props.isNameDirty) && <span \n              className=\"form__input-error\" \n              id=\"form__input-name-error\">\n                {props.nameErrorMessage}\n            </span>}\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default Register;\n","import React from 'react';\nimport './SavedMovies.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\n\nfunction SavedMovies (props) {\n  const target = 'saved-movies';\n  const filterCheckboxState = localStorage.getItem('filterCheckboxState:'+target);\n  const searchQueryForSavedMovies = localStorage.getItem('searchQuery:'+target);\n  const [filteredSavedMovies, setFilteredSavedMovies] = React.useState([]);\n\n  React.useEffect(() => {\n    if (filterCheckboxState) {\n      setFilteredSavedMovies(props.onFilter(props.savedMovies, {searchQueryForSavedMovies, filterCheckboxState}));\n    }\n  },[filterCheckboxState]);\n\n  return ( \n    <section className='saved-movies'>\n      <Header loggedIn={props.loggedIn}/>\n      <SearchForm\n        onSearchFormSubmit={props.onSearch}\n        target={target}\n      />\n      <MoviesCardList\n        cardToDelete={props.cardToDelete}\n        handleSaveOrDeleteClick={props.handleSaveOrDeleteClick}\n        isLoading={props.isLoading}\n        isSavedCheck={props.isSavedCheck}\n        loggedIn={props.loggedIn}\n        moviesToPrerenderList={filterCheckboxState ? filteredSavedMovies : props.savedMovies}\n        onClose={props.onClose}\n        searchResult={props.searchResult}\n        moviesListCaption={props.moviesListCaption}\n        setMoviesListCaption={props.setMoviesListCaption}\n      />\n      <Footer/>\n    </section>\n  );\n}\n\nexport default SavedMovies\n","import React from 'react';\n\nexport const useValidation = (value, validations) => {\n  const [isInputValid, setIsInputValid] = React.useState(false);\n  const [isNameValid, setIsNameValid] = React.useState(false);\n  const [isEmailValid, setIsEmailValid] = React.useState(false);\n  const [isPasswordValid, setIsPasswordValid] = React.useState(false);\n  const [errorMessage, setErrorMessage] = React.useState('');\n\n  React.useEffect(() => {\n    for (const validation in validations) {\n      switch (validation) {\n        case 'isEmailValid':\n          const reForEmail = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/i;\n          if (reForEmail.test(String(value).toLowerCase())) {\n            setIsEmailValid(true);\n            setErrorMessage('');\n          } else {\n            setIsEmailValid(false);\n            setErrorMessage('Неправильный формат почты');\n          };\n          break;\n        case 'isNameValid':\n          const reForName = /^[А-Яа-я/A-Za-z -]+$/;\n          if (!reForName.test(String(value))) {\n            setIsEmailValid(false);\n            setErrorMessage('Используйте только латиницу, кириллицу, дефис и пробел');\n          } else {\n            setIsEmailValid(true);\n            setErrorMessage('');\n          };\n          break;\n        case 'isPasswordValid':\n          if (value.length < 6) {\n            setIsPasswordValid(false);\n            setErrorMessage('Пароль должен включать не менее 6 символов');\n          } else {\n            setIsPasswordValid(true);\n            setErrorMessage('');\n          };\n          break;\n        default:\n          setIsNameValid(false);\n          setIsEmailValid(false);\n          setIsPasswordValid(false);\n      }\n    }\n  }, [value])\n\n  React.useEffect(() => {\n    if (isNameValid || isEmailValid || isPasswordValid) {\n      setIsInputValid(true);\n    } else {\n      setIsInputValid(false);\n    }\n  }, [isNameValid, isEmailValid, isPasswordValid])\n\n  return {\n    isInputValid,\n    isNameValid,\n    isEmailValid,\n    isPasswordValid,\n    errorMessage,\n  }\n}\n\nexport const useInput = (initialValue, validations) => {\n  const [isDirty, setIsDirty] = React.useState(false);\n  const [value, setValue] = React.useState(initialValue);\n  const valid = useValidation(value, validations);\n\n    const onChange = (e) => {\n      setValue(e.target.value);\n    }\n\n    const onFocus = (e) => {\n      setIsDirty(true);\n    }\n  \n  return {\n    value,\n    onChange,\n    onFocus,\n    isDirty,\n    ...valid\n  }\n}\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\nimport { useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nimport Login from '../Login/Login';\nimport Main from '../Main/Main';\nimport AuthApi from '../../utils/AuthApi';\nimport MainApi from '../../utils/MainApi';\nimport MoviesApi from '../../utils/MoviesApi';\nimport Movies from '../Movies/Movies';\nimport PageNotFound from '../PageNotFound/PageNotFound';\nimport Preloader from '../Preloader/Preloader';\nimport Profile from '../Profile/Profile';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport Register from '../Register/Register';\nimport SavedMovies from '../SavedMovies/SavedMovies';\n\nimport * as formValidator from '../../utils/FormValidator';\n\nfunction App() {\n  const history = useHistory();\n  const location = window.location.pathname;\n  const [movieToDelete, setMovieToDelete] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [movies, setMovies] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [profileSubmitMessage, setProfileSubmitMessage] = React.useState('');\n  const [formSubmitErrorMessage, setFormSubmitErrorMessage] = React.useState('');\n  const [searchedMovies, setSearchedMovies] = React.useState([]);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [savedMoviesSearchResult, setSavedMoviesSearchResult] = React.useState('');\n  const [isAppLoading, setIsAppLoading] = React.useState(true);\n\n  const [moviesListCaption, setMoviesListCaption] = React.useState(location === '/movies' \n    ? 'Чтобы найти фильм, введите запрос' \n    : 'Сохранённых фильмов пока нет'\n  );\n\n  const name = formValidator\n    .useInput('', {\n      isNameValid: true,\n  });\n  const email = formValidator\n    .useInput('', {\n      isEmailValid: true\n  });\n  const password = formValidator\n    .useInput('', {\n      isPasswordValid: true,\n  });\n\n  const handleTokenCheck = () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      AuthApi.getCurrentUser() \n      .then((res) => { \n        if (res) {\n          setCurrentUser(res);\n          setLoggedIn(true);\n          history.push(location);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        localStorage.removeItem('token');\n        history.push('/');\n      })\n    }\n  }\n\n  const handleRegisterSubmit = (name, email, password) => {\n    AuthApi.register(name, email, password)\n    .then((res) => {\n      handleLoginSubmit(email, password);\n    })\n    .catch((error) => {\n      if (error === 409) {\n        setFormSubmitErrorMessage('Пользователь c таким email уже существует');\n      }\n      if (error === 400) {\n        setFormSubmitErrorMessage('Переданы некорректные данные');\n      }\n      if (error === 500) {\n        setFormSubmitErrorMessage('Ошибка сервера');\n      }\n    })\n  }\n\n  const handleLoginSubmit = (email, password) => {\n    AuthApi.login(email, password)\n    .then((data) => {\n      localStorage.setItem('token', data.token);\n      MainApi.setupAuthorization(data.token);\n      AuthApi.setupAuthorization(data.token);\n      setLoggedIn(true);\n      history.push('/movies');\n      handleGetCurrentUser();\n    })\n    .catch((error) => {\n      if (error === 401) {\n        setFormSubmitErrorMessage('Передан неверный логин или пароль');\n      }\n      if (error === 400) {\n        setFormSubmitErrorMessage('Переданы некорректные данные');\n      }\n      if (error === 500) {\n        setFormSubmitErrorMessage('Ошибка сервера');\n      }\n      setLoggedIn(false);\n    })\n  }\n\n  const handleSignOut = () => {\n    setCurrentUser({ email: '', name: ''});\n    localStorage.clear();\n    setSearchedMovies([]);\n    AuthApi.logout()\n      .then(() => {\n        setLoggedIn(false);\n        history.push('/');\n      })\n      .catch((error) => console.log(error));\n  }\n\n  const closeAllPopups = () => {\n    setMovieToDelete(null);\n  }\n\n  const handleEditProfileSubmit = (user) => {\n    user.name === currentUser.name && user.email === currentUser.email\n      ? setProfileSubmitMessage('Внесите новые данные')\n      : AuthApi.editProfile(user)\n        .then((userData) => {\n          setProfileSubmitMessage('Данные успешно обновлены');\n          setCurrentUser(userData);\n        })\n        .catch((error) => {\n          if(error === 400) {\n            setFormSubmitErrorMessage('Переданы некорректные данные');\n          }\n          if(error === 409) {\n            setFormSubmitErrorMessage('Пользователь с таким email уже существует');\n          }\n          if(error === 500) {\n            setFormSubmitErrorMessage('Ошибка сервера');\n          }\n        })\n      }\n\n      const handleGetCurrentUser = () => {\n        AuthApi.getCurrentUser()\n          .then((res) => {\n            setCurrentUser(res);\n          })\n          .catch((error) => {\n            console.log(error);\n          })\n  }\n\n  const handleGetMovies = () => {\n    return MoviesApi.getMovies()\n      .then((res) => {\n        localStorage.setItem('movies', JSON.stringify(res));\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  const handleGetSavedMovies = () => {\n    if (loggedIn) {\n      MainApi.getSavedMovies()\n        .then((res) => {\n          setSavedMovies(res);\n          localStorage.setItem('savedMovies', JSON.stringify(res));\n        })\n        .catch((error) => {\n          console.log(error);\n          localStorage.setItem('savedMovies', JSON.stringify([]));\n      });\n    }\n  } \n\n  const handleFilterMovies = (movies, {searchQuery, isShort}) => {\n    const filteredMovies = movies\n      .filter(movie => (movie.nameRU.toLowerCase().includes(searchQuery.toLowerCase())))\n      .filter(movie => isShort ? movie.duration <= 40 : true);\n    // if (filteredMovies.length === 0 && location === '/saved-movies') {\n    //   setSavedMoviesSearchResult('Фильм по запросу не найден');\n    // } else {\n    //   setSavedMoviesSearchResult('');\n    // }\n    return filteredMovies;\n  }\n\n  const handleSearchMoviesSubmit = ({searchQuery, isShort}) => {\n    handleGetMovies()\n      .then(() => {\n        setTimeout(() => setIsLoading(false), 1000);\n        const searchResult = handleFilterMovies(movies, {searchQuery, isShort});\n        setSearchedMovies(searchResult);\n        localStorage.setItem('lastSearchedMovies', JSON.stringify(searchResult));\n        searchResult.length === 0 \n          ? setMoviesListCaption('Фильм по запросу не найден')\n          : setMoviesListCaption('')\n      });\n  }\n\n  const handleSearchSavedMoviesSubmit = (searchQuery) => {\n    setTimeout(() => setIsLoading(false), 1000);\n    const storageSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    setSavedMovies(handleFilterMovies(storageSavedMovies, searchQuery));\n  }\n\n  const isSavedCheck = (movie) => {\n    const isMovieSaved = savedMovies\n      .some(savedMovie => {\n        return movie.id === savedMovie.movieId || movie.movieId === savedMovie.movieId;\n      })\n    return isMovieSaved;\n  }\n\n  const handleSaveOrDeleteClick = (movie, isSaved) => {\n    if (isSaved) {\n      handleDeleteMovie(movie);\n    } else {\n      handleSaveMovie(movie);\n    }\n  }\n\n  const handleSaveMovie = (movie) => {\n    MainApi.saveMovie(movie)\n      .then((res) => {\n        setSavedMovies([...savedMovies, res]);\n        handleGetSavedMovies();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  const handleDeleteMovie = (movieToDeleteData) => {\n    if(!movieToDeleteData.movieId) {\n      const movieToDelete = savedMovies.filter((movie) => movie.movieId === movieToDeleteData.id);\n      movieToDeleteData = movieToDelete[0];\n    }\n    MainApi.deleteMovie(movieToDeleteData._id) \n      .then((res) => {\n        setSavedMovies(savedMovies.filter((movie) => movie.id !== movieToDeleteData._id));\n        handleGetSavedMovies();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if(token) {\n      setLoggedIn(true);\n      Promise.all([AuthApi.getCurrentUser(), MainApi.getSavedMovies()])\n        .then(([userInfo, savedMovies]) => {\n          setCurrentUser(userInfo);\n          setSavedMovies(savedMovies);\n          setIsAppLoading(false);\n          handleGetSavedMovies();\n        })\n        .catch((error) => {\n          console.log(`Ошибка: ${error}`);\n        })\n        .finally(() => {\n          setIsAppLoading(false);\n        })\n    } else {\n      setIsAppLoading(false);\n    }\n  },[loggedIn])\n\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    const storageMovies = JSON.parse(localStorage.getItem('movies'));\n    const storageSavedMovies = JSON.parse(localStorage.getItem('savedMovies'));\n    const searchedMovies = JSON.parse(localStorage.getItem('lastSearchedMovies'));\n    \n    if (storageMovies) {\n      setMovies(storageMovies);\n      if (searchedMovies) {\n        setSearchedMovies(searchedMovies);\n      }\n    } else {\n      handleGetMovies();\n    }\n    if (storageSavedMovies) {\n      setSavedMovies(storageSavedMovies)\n    } else if (token) {\n      handleGetSavedMovies();\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  return(\n    isAppLoading ? <Preloader isLoading={isAppLoading} /> : \n    <div className='page-container'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route exact path='/'>\n            <Main\n              loggedIn={loggedIn}\n            />\n          </Route>\n          <Route path='/signup'>\n            <Register\n              onRegister={handleRegisterSubmit}\n              emailValue={email.value}\n              formSubmitErrorMessage={formSubmitErrorMessage}\n              nameValue={name.value}\n              passwordValue={password.value}\n              emailErrorMessage={email.errorMessage}\n              nameErrorMessage={name.errorMessage}\n              passwordErrorMessage={password.errorMessage}\n              onEmailFocus={e => email.onFocus(e)}\n              onEmailChange={e => email.onChange(e)}\n              onNameFocus={e => name.onFocus(e)}\n              onNameChange={e => name.onChange(e)}\n              onPasswordFocus={e => password.onFocus(e)}\n              onPasswordChange={e => password.onChange(e)}\n              isEmailDirty={email.isDirty}\n              isNameDirty={name.isDirty}\n              isPasswordDirty={password.isDirty}\n              isEmailValid={email.isInputValid}\n              isNameValid={name.isInputValid}\n              isPasswordValid={password.isInputValid}\n            />\n          </Route>\n          <Route path='/signin'>\n            <Login \n              onLogin={handleLoginSubmit}\n              emailValue={email.value}\n              formSubmitErrorMessage={formSubmitErrorMessage}\n              nameValue={name.value}\n              passwordValue={password.value}\n              emailErrorMessage={email.errorMessage}\n              nameErrorMessage={name.errorMessage}\n              passwordErrorMessage={password.errorMessage}\n              onEmailFocus={e => email.onFocus(e)}\n              onEmailChange={e => email.onChange(e)}\n              onNameFocus={e => name.onFocus(e)}\n              onNameChange={e => name.onChange(e)}\n              onPasswordFocus={e => password.onFocus(e)}\n              onPasswordChange={e => password.onChange(e)}\n              isEmailDirty={email.isDirty}\n              isNameDirty={name.isDirty}\n              isPasswordDirty={password.isDirty}\n              isEmailValid={email.isInputValid}\n              isNameValid={name.isInputValid}\n              isPasswordValid={password.isInputValid}\n            />\n          </Route>\n          <ProtectedRoute\n            component={Profile}\n            path='/profile'\n            nameValue={name.value}\n            emailValue={email.value}\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileSubmit}\n            onSignOut={handleSignOut}\n            profileSubmitMessage={profileSubmitMessage}\n          />\n          <ProtectedRoute\n            component={Movies}\n            path='/movies'\n            loggedIn={loggedIn}\n            movies={searchedMovies}\n            onSearch={handleSearchMoviesSubmit}\n            onFilter={handleFilterMovies}\n            handleSaveOrDeleteClick={handleSaveOrDeleteClick}\n            isSavedCheck={isSavedCheck}\n            setIsLoading={setIsLoading}\n            isLoading={isLoading}\n            moviesListCaption={moviesListCaption}\n            setMoviesListCaption={setMoviesListCaption}\n          />\n          <ProtectedRoute\n            component={SavedMovies}\n            path='/saved-movies'\n            cardToDelete={movieToDelete}\n            isLoading={isLoading}\n            isDeleteCardPopupOpened={!!movieToDelete}\n            isSavedCheck={isSavedCheck}\n            loggedIn={loggedIn}\n            onPopupClose={closeAllPopups}\n            onSearch={handleSearchSavedMoviesSubmit}\n            setCardToDelete={setMovieToDelete}\n            setIsLoading={setIsLoading}\n            handleSaveOrDeleteClick={handleSaveOrDeleteClick}\n            savedMovies={savedMovies}\n            searchResult={savedMoviesSearchResult}\n            setPreloader={setIsLoading}\n            moviesListCaption={moviesListCaption}\n            setMoviesListCaption={setMoviesListCaption}\n          />\n          <Route exact path='*'>\n            <PageNotFound />\n          </Route>\n        </Switch>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainApi from './utils/MainApi';\nimport AuthApi from './utils/AuthApi';\n\nconst token = localStorage.getItem('token');\nMainApi.setupAuthorization(token);\nAuthApi.setupAuthorization(token);\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}