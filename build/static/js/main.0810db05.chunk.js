(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(29).concat([function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(20),o=a.n(i),c=a(3),r=a(23),l=a(2),d=a(4),u=(a(29),n.a.createContext()),m=(a(30),a(0));var h=function(e){return Object(m.jsxs)("div",{className:"".concat(e.containsAnyForms?"form-container":"form-container_hidden","\n    "),children:[Object(m.jsx)("h2",{className:"form__title",children:e.title}),Object(m.jsxs)("form",{className:"form",onSubmit:e.onSubmit,noValidate:!0,autoComplete:"off",children:[Object(m.jsxs)("div",{className:"".concat(e.containsAnyInputs?"form__inputs":"form__inputs_hidden"),children:[e.children,Object(m.jsxs)("div",{className:"form__section",children:[Object(m.jsx)("label",{className:"form__input-label",children:"E-mail"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"email",type:"email",onFocus:e.onEmailFocus,onChange:e.onEmailChange,required:!0,value:e.emailValue}),e.emailValue&&e.isEmailDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.emailErrorMessage})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"form__input-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"password",type:"password",onFocus:e.onPasswordFocus,onChange:e.onPasswordChange,required:!0,value:e.passwordValue}),e.passwordValue&&e.isPasswordDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.passwordErrorMessage})]})]}),Object(m.jsxs)("label",{className:"form__submit-btn-container",children:[Object(m.jsx)("span",{className:"form__submit-error-message",children:e.formSubmitErrorMessage}),Object(m.jsx)("button",{className:"form__submit-btn opacity-transition\n              ".concat(e.isNameValid&&e.isEmalValid&&e.isPasswordValid&&!e.isRequest?"form__submit-btn_active":"form__submit-btn_disabled","\n            "),type:"submit",disabled:!(e.isNameValid&&e.isEmalValid&&e.isPasswordValid&&!e.isRequest),children:e.buttonText}),Object(m.jsxs)("p",{className:"form__link-caption",children:[e.caption,Object(m.jsx)(c.b,{to:"".concat(e.linkEndpoit),className:"form__auth-link",children:e.linkText})]})]})]})]})},j=a.p+"static/media/logo.2629e1f9.svg";var b=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(m.jsxs)("div",{className:"page_type_auth",children:[Object(m.jsx)(c.b,{to:"/",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(h,{buttonText:"\u0412\u043e\u0439\u0442\u0438",caption:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",containsAnyImages:!1,containsAnyInputs:!0,containsAnyForms:!0,linkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkEndpoit:"/signup",title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",onSubmit:function(t){t.preventDefault(),i(!0),e.onLogin(e.emailValue,e.passwordValue),i(!1)},formSubmitErrorMessage:e.formSubmitErrorMessage,emailValue:e.emailValue,nameValue:e.nameValue,passwordValue:e.passwordValue,emailErrorMessage:e.emailErrorMessage,nameErrorMessage:e.nameErrorMessage,passwordErrorMessage:e.passwordErrorMessage,onEmailFocus:e.onEmailFocus,onEmailChange:e.onEmailChange,onPasswordFocus:e.onPasswordFocus,onPasswordChange:e.onPasswordChange,isEmailDirty:e.isEmailDirty,isPasswordDirty:e.isPasswordDirty,isNameValid:!0,isEmalValid:e.isEmailValid,isPasswordValid:e.isPasswordValid,isRequest:s})]})},_=(a(37),a(38),a.p+"static/media/navigation__profile-icon.3486dc2f.svg");var f=function(e){return Object(m.jsx)("nav",{className:"navigation",children:Object(m.jsx)(d.d,{children:Object(m.jsxs)(d.b,{path:"/",children:[Object(m.jsx)("div",{className:"\n            ".concat(e.loggedIn?"navigation__links_hidden":"navigation__links_visible"),children:Object(m.jsxs)("div",{className:"navigation__links-not-auth",children:[Object(m.jsx)(c.c,{to:"signup",className:"navigation__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(c.c,{to:"signin",className:"navigation__link navigation__link_type_signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),Object(m.jsx)("input",{id:"navigation__menu-toggle",type:"checkbox"}),Object(m.jsx)("label",{className:"\n            ".concat(e.loggedIn?"navigation__menu-btn":"navigation__menu-btn_hidden"),htmlFor:"navigation__menu-toggle",children:Object(m.jsx)("span",{className:"navigation__menu-btn-line"})}),Object(m.jsxs)("section",{className:"navigation__menu",children:[Object(m.jsx)("div",{className:"navigation__menu-background"}),Object(m.jsx)("div",{className:"navigation__menu-container",children:Object(m.jsxs)("div",{className:"\n                ".concat(e.loggedIn?"navigation__links_visible":"navigation__links_hidden"),children:[Object(m.jsxs)("div",{className:"navigation__links-auth",children:[Object(m.jsx)(c.c,{exact:!0,to:"/",className:"navigation__link navigation__link_type_main",activeClassName:"navigation__link_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(m.jsx)(c.c,{to:"/movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(c.c,{to:"saved-movies",className:"navigation__link",activeClassName:"navigation__link_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsxs)(c.c,{to:"profile",className:"navigation__link navigation__link_type_profile",activeClassName:"navigation__link_active",children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(m.jsx)("img",{className:"navigation__profile-icon",src:_,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]})]})})]})]})})})};var g=function(e){return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)(c.b,{to:"/",className:"header__link",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(f,{loggedIn:e.loggedIn})]})};a(39),a(40);var p=function(){return Object(m.jsxs)("ul",{className:"nav-tab",children:[Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#about-project",className:"nav-tab__link",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#techs",className:"nav-tab__link",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(m.jsx)("li",{className:"nav-tab__item",children:Object(m.jsx)("a",{href:"#about-me",className:"nav-tab__link",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})};var v=function(){return Object(m.jsxs)("section",{className:"promo",children:[Object(m.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(m.jsx)(p,{})]})};a(41);var O=function(){return Object(m.jsxs)("section",{className:"about-project",id:"about-project",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(m.jsxs)("div",{className:"about-project__info",children:[Object(m.jsxs)("div",{className:"about-project__stages",children:[Object(m.jsx)("h3",{className:"about-project__heading",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(m.jsx)("p",{className:"about-project__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(m.jsxs)("div",{className:"about-project__stages",children:[Object(m.jsx)("h3",{className:"about-project__heading",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(m.jsx)("p",{className:"about-project__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(m.jsxs)("div",{className:"about-project__scale",children:[Object(m.jsx)("p",{className:"about-project__scale-value",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("p",{className:"about-project__scale-value",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})]}),Object(m.jsxs)("div",{className:"about-project__scale-captures",children:[Object(m.jsx)("p",{className:"about-project__scale-capture",children:"Back-end"}),Object(m.jsx)("p",{className:"about-project__scale-capture",children:"Front-end"})]})]})};a(42);var x=function(){return Object(m.jsxs)("section",{className:"techs",id:"techs",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(m.jsx)("h3",{className:"techs__title techs__heading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(m.jsx)("p",{className:"techs__capture",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(m.jsxs)("ul",{className:"techs__list",children:[Object(m.jsx)("li",{className:"techs__list-item",children:"HTML"}),Object(m.jsx)("li",{className:"techs__list-item",children:"CSS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"JS"}),Object(m.jsx)("li",{className:"techs__list-item",children:"React"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Git"}),Object(m.jsx)("li",{className:"techs__list-item",children:"Express.js"}),Object(m.jsx)("li",{className:"techs__list-item",children:"mongoDB"})]})]})},N=(a(43),a.p+"static/media/about-me__photo.c3de3540.jpg");a(44);var k=function(e){return Object(m.jsxs)("ul",{className:"".concat("about-me"===e.parentClassName?"contacts contacts-reversed":"contacts contacts_place_footer","\n  "),children:[Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item_hidden":"contacts__item contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link",href:"https://practicum.yandex.ru/",target:"_blank",rel:"noreferrer nofollow",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item":"contacts__item contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link\n          ".concat("about-me"===e.parentClassName?"contacts__link_place_about-me":"contacts__link_place_footer","\n        "),href:"https://github.com/Tatiana-Novikova",target:"_blank",rel:"noreferrer nofollow",children:"Github"})}),Object(m.jsx)("li",{className:"".concat("about-me"===e.parentClassName?"contacts__item":"contacts__item_place_footer","\n      "),children:Object(m.jsx)("a",{className:"contacts__link\n          ".concat("about-me"===e.parentClassName?"contacts__link_place_about-me":"contacts__link_place_footer","\n        "),href:"https://www.facebook.com/tanya.novikova.3597",target:"_blank",rel:"noreferrer nofollow",children:"Facebook"})})]})};a(45);var S=function(){return Object(m.jsxs)("section",{className:"portfolio",children:[Object(m.jsx)("h3",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(m.jsxs)("ul",{className:"portfolio__links",children:[Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://github.com/Tatiana-Novikova/how-to-learn",target:"_blank",rel:"noreferrer nofollow",children:["\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})}),Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://tatiana-novikova.github.io/russian-travel/",target:"_blank",rel:"noreferrer nofollow",children:["\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})}),Object(m.jsx)("li",{className:"portfolio__links-item",children:Object(m.jsxs)("a",{className:"portfolio__link",href:"https://mesto-project.students.nomoredomains.club/",target:"_blank",rel:"noreferrer nofollow",children:["\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",Object(m.jsx)("span",{className:"portfolio__link-arrow",children:"\u2197"})]})})]})]})};var w=function(){return Object(m.jsxs)("section",{className:"about-me",id:"about-me",children:[Object(m.jsx)("h2",{className:"app__section-title ",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(m.jsxs)("div",{className:"about-me__student-info",children:[Object(m.jsxs)("div",{className:"about-me__student-info-container",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"about-me__name",children:"\u0422\u0430\u0442\u044c\u044f\u043d\u0430"}),Object(m.jsx)("p",{className:"about-me__capture",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 28 \u043b\u0435\u0442"}),Object(m.jsx)("p",{className:"about-me__text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u041c\u042d\u0421\u0418. \u041b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u043f\u0435\u0442\u044c \u0438 \u0443\u0447\u0443\u0441\u044c \u0438\u0433\u0440\u0430\u0442\u044c \u043d\u0430 \u0443\u043a\u0443\u043b\u0435\u043b\u0435. \u0415\u0449\u0451 \u0441\u043e \u0448\u043a\u043e\u043b\u044b \u043b\u044e\u0431\u043b\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0443 \u0438 \u0432\u043e\u0442 \u043d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043a\u043e\u0434\u0438\u0442\u044c. \u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u044d\u0442\u043e\u043c\u0443 \u0438 \u043d\u0430\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432 \u043d\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438, \u0432\u044b\u0431\u0440\u0430\u043b\u0430 \u042f\u043d\u0434\u0435\u043a\u0441 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c."})]}),Object(m.jsx)(k,{parentClassName:"about-me"})]}),Object(m.jsx)("img",{className:"about-me__photo",alt:"\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",src:N})]}),Object(m.jsx)(S,{})]})};a(46);var y=function(){return Object(m.jsxs)("footer",{className:"footer",children:[Object(m.jsx)("p",{className:"footer__project-info",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(m.jsxs)("div",{className:"footer__copyrights",children:[Object(m.jsxs)("p",{className:"footer__date",children:["\xa9 ",(new Date).getFullYear()]}),Object(m.jsx)(k,{parentClassName:"footer"})]})]})};var C=function(e){return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(g,{loggedIn:e.loggedIn}),Object(m.jsx)(v,{}),Object(m.jsx)(O,{}),Object(m.jsx)(x,{}),Object(m.jsx)(w,{}),Object(m.jsx)(y,{})]})},E=a(10),V=a(11),I=new(function(){function e(t){Object(E.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"setupAuthorization",value:function(e){e?this._headers.Autharization=e:delete this._headers.Autharization}},{key:"register",value:function(e,t,a){return fetch("".concat(this._address,"/signup"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({name:e,email:t,password:a})}).then(this._checkResponse)}},{key:"login",value:function(e,t){return fetch("".concat(this._address,"/signin"),{method:"POST",credentials:"include",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then(this._checkResponse)}},{key:"logout",value:function(){return fetch("".concat(this._address,"/signout"),{method:"DELETE",credentials:"include"}).then(this._checkResponse).catch((function(e){console.log(e)}))}},{key:"getCurrentUser",value:function(){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:this._headers,credentials:"include"}).then(this._checkResponse)}},{key:"editProfile",value:function(e){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:this._headers,credentials:"include",body:JSON.stringify({name:e.name,email:e.email})}).then(this._checkResponse)}}]),e}())({address:"https://api.movies-explorer.nomoredomains.work"}),M="https://api.nomoreparties.co",P=new(function(){function e(t){Object(E.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"setupAuthorization",value:function(e){e?this._headers.Autharization=e:delete this._headers.Autharization}},{key:"getCurrentUser",value:function(){return fetch("".concat(this._address,"/users/me"),{method:"GET",headers:this._headers,credentials:"include"}).then(this._checkResponse)}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._address,"/movies"),{method:"GET",credentials:"include",headers:this._headers}).then(this._checkResponse)}},{key:"saveMovie",value:function(e){return fetch("".concat(this._address,"/movies"),{method:"POST",headers:this._headers,credentials:"include",body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:M+e.image.url,trailerLink:e.trailerLink,thumbnail:M+e.image.formats.thumbnail.url,movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN})}).then(this._checkResponse)}},{key:"deleteMovie",value:function(e){return fetch("".concat(this._address,"/movies/").concat(e),{method:"DELETE",credentials:"include",headers:this._headers}).then(this._checkResponse)}}]),e}())({address:"https://api.movies-explorer.nomoredomains.work"}),F=new(function(){function e(t){Object(E.a)(this,e),this._address=t.address,this._headers={"Content-Type":"application/json"}}return Object(V.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getMovies",value:function(){return fetch(this._address,{method:"GET",headers:this._headers}).then(this._checkResponse)}}]),e}())({address:"https://api.nomoreparties.co/beatfilm-movies"});a(47),a(48);var D=function(e){return Object(m.jsx)("div",{className:"filterCheckbox",children:Object(m.jsxs)("label",{className:"filterCheckbox__label",htmlFor:"filterCheckbox-toggle",children:[Object(m.jsx)("input",{className:"filterCheckbox__check",type:"checkbox",checked:e.isChecked,onChange:function(t){e.onChange(t.target.checked)},id:"filterCheckbox-toggle",disabled:!1}),Object(m.jsx)("span",{className:"filterCheckbox__capture",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})})};a(49);var T=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),s=a[0],i=a[1],o=n.a.useState(localStorage.getItem("searchQuery:"+e.target)||""),c=Object(l.a)(o,2),r=c[0],d=c[1],u=n.a.useState((function(){return JSON.parse(localStorage.getItem("checkboxState:"+e.target))||""})),h=Object(l.a)(u,2),j=h[0],b=h[1],_=n.a.useRef(r);return n.a.useEffect((function(){localStorage.setItem("checkboxState:"+e.target,Boolean(j))}),[j]),Object(m.jsx)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),localStorage.setItem("searchQuery:"+e.target,r),i(!0),e.onSearchFormSubmit({searchQuery:r,isShort:j}),i(!1)},noValidate:!0,autoComplete:"off",children:Object(m.jsxs)("div",{className:"search-form__container",children:[Object(m.jsx)("div",{className:"search-form__icon"}),Object(m.jsxs)("div",{className:"search-form__input-container",children:[Object(m.jsx)("input",{className:"search-form__input",ref:_,id:"query",name:"query",type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",onChange:function(e){return d(e.target.value)},value:r,required:!0}),Object(m.jsx)("button",{className:"search-form__submit-btn opacity-transition\n              ".concat(""===r||s?"search-form__submit-btn_disabled":"search-form__submit-btn_active","\n            "),type:"submit",disabled:!(""!==r&&!s),children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(m.jsx)(D,{onChange:function(t){localStorage.setItem("checkboxState:"+e.target,Boolean(t)),e.onSearchFormSubmit({searchQuery:r,isShort:t}),b(t)},isChecked:j})]})})};a(50),a(51);var R=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),s=a[0],i=a[1],o="/saved-movies"===window.location.pathname,c="/movies"===window.location.pathname,r=e.isSavedCheck(e.movieToRender);return Object(m.jsxs)("article",{children:[Object(m.jsx)("a",{className:"movie__link",href:"".concat(o?e.movieToRender.trailer:e.movieToRender.trailerLink),target:"_blank",rel:"noreferrer",children:Object(m.jsx)("img",{className:"movie__image",src:c?"https://api.nomoreparties.co"+e.movieToRender.image.url:e.movieToRender.image,alt:e.movieToRender.nameRU})}),Object(m.jsxs)("div",{className:"movie__info",children:[Object(m.jsxs)("div",{className:"movie__main",children:[Object(m.jsx)("h2",{className:"movie__title",children:e.movieToRender.nameRU}),Object(m.jsxs)("span",{className:"movie__duration",children:[Math.floor(e.movieToRender.duration/60),"\u0447",e.movieToRender.duration%60,"\u043c"]})]}),Object(m.jsx)("button",{className:"\n              ".concat(r?"movie__btn_active":"movie__btn_disabled","\n              ").concat(c?"movie__btn_type_save":"movie__btn_type_delete","\n            "),type:"button","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c/\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){i(!s),e.handleSaveOrDeleteClick(e.movieToRender,r)}})]})]})};a(52);var L=function(e){return Object(m.jsx)("button",{className:"".concat(e.movies.length>=e.maxMoviesNum?"more-btn":"more-btn_hidden"),type:"button","aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a",onClick:e.onClick,disabled:!1,children:"\u0415\u0449\u0451"})},A=(a(53),function(){return Object(m.jsx)("div",{className:"preloader",children:Object(m.jsx)("div",{className:"preloader__container",children:Object(m.jsx)("span",{className:"preloader__round"})})})});var J=function(e){for(var t=window.location.pathname,a=[],s=JSON.parse(localStorage.getItem("lastSearchedMovies")),i="",o=n.a.useState(window.innerWidth>=1280?16:window.innerWidth<1280&&window.innerWidth>=768?8:window.innerWidth<768&&window.innerWidth>=320?5:0),c=Object(l.a)(o,2),r=c[0],d=c[1],u=0;u<r;u++)e.moviesToPrerenderList[u]&&a.push(e.moviesToPrerenderList[u]);return"/movies"===t?s?0===s.length&&(i="\u0424\u0438\u043b\u044c\u043c \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):i="\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0444\u0438\u043b\u044c\u043c, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441":"/saved-movies"===t&&(i=""===e.searchResult?"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442":e.searchResult),window.addEventListener("resize",(function(){window.innerWidth>=1280?d(16):window.innerWidth<1280&&window.innerWidth>=768?d(8):window.innerWidth<768&&window.innerWidth>=320&&d(5)})),e.isLoading?Object(m.jsx)(A,{isLoading:e.isLoading}):Object(m.jsxs)("section",{className:"movies-cards-list",children:[0!==a.length?Object(m.jsx)("ul",{className:"movies-cards-grid",children:a.map((function(t){return Object(m.jsx)("li",{children:Object(m.jsx)(R,{handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,isSavedCheck:e.isSavedCheck,movieToRender:t})},t.movieId||t.id)}))}):Object(m.jsx)("p",{className:"movies-cards-list__capture",children:i}),Object(m.jsx)(L,{movies:a,maxMoviesNum:r,onClick:function(){window.innerWidth>=1280?d(r+4):d(r+2)}})]})};var q=function(e){var t="movies",a=localStorage.getItem("filterCheckboxState:movies"),s=localStorage.getItem("searchQuery:movies"),i=n.a.useState([]),o=Object(l.a)(i,2),c=o[0],r=o[1];return n.a.useEffect((function(){a&&r(e.onFilter(e.movies,{searchQueryForMovies:s,filterCheckboxState:a}))}),[a]),Object(m.jsxs)("section",{className:"movies",children:[Object(m.jsx)(g,{loggedIn:e.loggedIn}),Object(m.jsx)(T,{onSearchFormSubmit:e.onSearch,target:t}),Object(m.jsx)(J,{isLoading:e.isLoading,isSavedCheck:e.isSavedCheck,handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,moviesToPrerenderList:a?c:e.movies}),Object(m.jsx)(y,{})]})};a(54);var z=function(){return Object(m.jsxs)("div",{className:"not-found",children:[Object(m.jsx)("h3",{className:"not-found__title",children:"404"}),Object(m.jsx)("span",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(m.jsx)(c.b,{className:"not-found__button",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})};a(55);var Q=function(e){var t=n.a.useContext(u),a=n.a.useState(t.name),s=Object(l.a)(a,2),i=s[0],o=s[1],r=n.a.useState(t.email),d=Object(l.a)(r,2),h=d[0],j=d[1];return Object(m.jsxs)("div",{className:"page-container",children:[Object(m.jsx)(g,{loggedIn:e.loggedIn}),Object(m.jsxs)("section",{className:"profile",children:[Object(m.jsxs)("h2",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(m.jsxs)("form",{className:"profile__user-info-container",onSubmit:function(t){t.preventDefault();var a={name:i,email:h};e.onEditProfile(a)},children:[Object(m.jsxs)("div",{className:"profile__user-info",children:[Object(m.jsx)("p",{className:"profile__user-info_data",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"profile__input",disabled:!1,name:"name",type:"text",onChange:function(e){return o(e.target.value)},required:!0,value:i||""})]}),Object(m.jsxs)("div",{className:"profile__user-info",children:[Object(m.jsx)("p",{className:"profile__user-info_data",children:"E-mail"}),Object(m.jsx)("input",{className:"profile__input",disabled:!1,name:"email",type:"email",onChange:function(e){return j(e.target.value)},required:!0,value:h||""})]}),Object(m.jsx)("span",{className:"profile__submit-message",children:e.profileSubmitMessage}),Object(m.jsx)("button",{className:"profile__edit-button",type:"submit","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(m.jsx)(c.b,{to:"/",className:"profile__link",onClick:e.onSignOut,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})},W=a(15),U=a(24),B=["component"],G=function(e){var t=e.component,a=Object(U.a)(e,B);return Object(m.jsx)(d.b,{children:function(){return a.loggedIn?Object(m.jsx)(t,Object(W.a)({},a)):Object(m.jsx)(d.a,{to:"/"})}})};var H=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),s=a[0],i=a[1];return Object(m.jsxs)("div",{className:"page_type_auth",children:[Object(m.jsx)(c.b,{to:"/",children:Object(m.jsx)("img",{className:"app__logo",src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f movies-explorer"})}),Object(m.jsx)(h,{buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",caption:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",containsAnyImages:!1,containsAnyInputs:!0,containsAnyForms:!0,linkText:"\u0412\u043e\u0439\u0442\u0438",linkEndpoit:"/signin",title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",onSubmit:function(t){t.preventDefault(),i(!0),e.onRegister(e.nameValue,e.emailValue,e.passwordValue),i(!0)},formSubmitErrorMessage:e.formSubmitErrorMessage,emailValue:e.emailValue,nameValue:e.nameValue,passwordValue:e.passwordValue,emailErrorMessage:e.emailErrorMessage,nameErrorMessage:e.nameErrorMessage,passwordErrorMessage:e.passwordErrorMessage,onEmailFocus:e.onEmailFocus,onEmailChange:e.onEmailChange,onPasswordFocus:e.onPasswordFocus,onPasswordChange:e.onPasswordChange,isEmailDirty:e.isEmailDirty,isPasswordDirty:e.isPasswordDirty,isNameValid:e.isNameValid,isEmalValid:e.isEmailValid,isPasswordValid:e.isPasswordValid,isRequest:s,children:Object(m.jsxs)("div",{className:"form__section",children:[Object(m.jsx)("label",{className:"form__input-label",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"form__input",disabled:!1,name:"name",onChange:e.onNameChange,onFocus:e.onNameFocus,type:"text",required:!0,value:e.nameValue}),e.nameValue&&e.isNameDirty&&Object(m.jsx)("span",{className:"form__input-error",id:"form__input-name-error",children:e.nameErrorMessage})]})})]})};a(56);var $=function(e){var t="saved-movies",a=localStorage.getItem("filterCheckboxState:"+t),s=localStorage.getItem("searchQuery:"+t),i=n.a.useState([]),o=Object(l.a)(i,2),c=o[0],r=o[1];return n.a.useEffect((function(){a&&r(e.onFilter(e.savedMovies,{searchQueryForSavedMovies:s,filterCheckboxState:a}))}),[a]),Object(m.jsxs)("section",{className:"saved-movies",children:[Object(m.jsx)(g,{loggedIn:e.loggedIn}),Object(m.jsx)(T,{onSearchFormSubmit:e.onSearch,target:t}),Object(m.jsx)(J,{cardToDelete:e.cardToDelete,handleSaveOrDeleteClick:e.handleSaveOrDeleteClick,isLoading:e.isLoading,isSavedCheck:e.isSavedCheck,loggedIn:e.loggedIn,moviesToPrerenderList:a?c:e.savedMovies,onClose:e.onClose,searchResult:e.searchResult}),Object(m.jsx)(y,{})]})},Y=function(e,t){var a=n.a.useState(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],c=n.a.useState(e),r=Object(l.a)(c,2),d=r[0],u=r[1],m=function(e,t){var a=n.a.useState(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],c=n.a.useState(!1),r=Object(l.a)(c,2),d=r[0],u=r[1],m=n.a.useState(!1),h=Object(l.a)(m,2),j=h[0],b=h[1],_=n.a.useState(!1),f=Object(l.a)(_,2),g=f[0],p=f[1],v=n.a.useState(""),O=Object(l.a)(v,2),x=O[0],N=O[1];return n.a.useEffect((function(){for(var a in t)switch(a){case"isEmailValid":/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(String(e).toLowerCase())?(b(!0),N("")):(b(!1),N("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b"));break;case"isNameValid":/^[\u0410-\u042f\u0430-\u044f/A-Za-z -]+$/.test(String(e))?(b(!0),N("")):(b(!1),N("\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0443, \u0434\u0435\u0444\u0438\u0441 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b"));break;case"isPasswordValid":e.length<6?(p(!1),N("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")):(p(!0),N(""));break;default:u(!1),b(!1),p(!1)}}),[e]),n.a.useEffect((function(){o(!!(d||j||g))}),[d,j,g]),{isInputValid:i,isNameValid:d,isEmailValid:j,isPasswordValid:g,errorMessage:x}}(d,t);return Object(W.a)({value:d,onChange:function(e){u(e.target.value)},onFocus:function(e){o(!0)},isDirty:i},m)};var Z=function(){var e=Object(d.g)(),t=window.location.pathname,a=n.a.useState(null),s=Object(l.a)(a,2),i=s[0],o=s[1],c=n.a.useState({}),h=Object(l.a)(c,2),j=h[0],_=h[1],f=n.a.useState([]),g=Object(l.a)(f,2),p=g[0],v=g[1],O=n.a.useState(!1),x=Object(l.a)(O,2),N=x[0],k=x[1],S=n.a.useState(!1),w=Object(l.a)(S,2),y=w[0],E=w[1],V=n.a.useState(""),M=Object(l.a)(V,2),D=M[0],T=M[1],R=n.a.useState(""),L=Object(l.a)(R,2),J=L[0],W=L[1],U=n.a.useState([]),B=Object(l.a)(U,2),Z=B[0],K=B[1],X=n.a.useState([]),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],se=n.a.useState(""),ne=Object(l.a)(se,2),ie=ne[0],oe=ne[1],ce=n.a.useState(!0),re=Object(l.a)(ce,2),le=re[0],de=re[1],ue=Y("",{isNameValid:!0}),me=Y("",{isEmailValid:!0}),he=Y("",{isPasswordValid:!0}),je=function(t,a){I.login(t,a).then((function(t){localStorage.setItem("token",t.token),P.setupAuthorization(t.token),I.setupAuthorization(t.token),E(!0),e.push("/movies"),be()})).catch((function(e){401===e&&W("\u041f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),400===e&&W("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),500===e&&W("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),E(!1)}))},be=function(){I.getCurrentUser().then((function(e){_(e)})).catch((function(e){console.log(e)}))},_e=function(){return F.getMovies().then((function(e){localStorage.setItem("movies",JSON.stringify(e))})).catch((function(e){console.log(e)})).finally((function(){k(!1)}))},fe=function(){y&&P.getSavedMovies().then((function(e){ae(e),localStorage.setItem("savedMovies",JSON.stringify(e))})).catch((function(e){console.log(e),localStorage.setItem("savedMovies",JSON.stringify([]))}))},ge=function(e,a){var s=a.searchQuery,n=a.isShort,i=e.filter((function(e){return e.nameRU.toLowerCase().includes(s.toLowerCase())})).filter((function(e){return!n||e.duration<=40}));return 0===i.length&&"/saved-movies"===t?oe("\u0424\u0438\u043b\u044c\u043c \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):oe(""),i},pe=function(e){return te.some((function(t){return e.id===t.movieId||e.movieId===t.movieId}))},ve=function(e,t){t?xe(e):Oe(e)},Oe=function(e){P.saveMovie(e).then((function(e){ae([].concat(Object(r.a)(te),[e])),fe()})).catch((function(e){console.log(e)}))},xe=function(e){if(!e.movieId){var t=te.filter((function(t){return t.movieId===e.id}));e=t[0]}P.deleteMovie(e._id).then((function(t){ae(te.filter((function(t){return t.id!==e._id}))),fe()})).catch((function(e){console.log(e)}))};return n.a.useEffect((function(){localStorage.getItem("token")?(E(!0),Promise.all([I.getCurrentUser(),P.getSavedMovies()]).then((function(e){var t=Object(l.a)(e,2),a=t[0],s=t[1];_(a),ae(s),de(!1),fe()})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){de(!1)}))):de(!1)}),[y]),n.a.useEffect((function(){var e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("movies")),a=JSON.parse(localStorage.getItem("savedMovies")),s=JSON.parse(localStorage.getItem("lastSearchedMovies"));t?(v(t),s&&K(s)):_e(),a?ae(a):e&&fe()}),[y]),n.a.useEffect((function(){localStorage.getItem("token")&&I.getCurrentUser().then((function(a){a&&(_(a),E(!0),e.push(t))})).catch((function(t){console.log(t),localStorage.removeItem("token"),e.push("/")}))}),[]),le?Object(m.jsx)(A,{isLoading:le}):Object(m.jsx)("div",{className:"page-container",children:Object(m.jsx)(u.Provider,{value:j,children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(C,{loggedIn:y})}),Object(m.jsx)(d.b,{path:"/signup",children:Object(m.jsx)(H,{onRegister:function(e,t,a){I.register(e,t,a).then((function(e){je(t,a)})).catch((function(e){409===e&&W("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c c \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),400===e&&W("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),500===e&&W("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}))},emailValue:me.value,formSubmitErrorMessage:J,nameValue:ue.value,passwordValue:he.value,emailErrorMessage:me.errorMessage,nameErrorMessage:ue.errorMessage,passwordErrorMessage:he.errorMessage,onEmailFocus:function(e){return me.onFocus(e)},onEmailChange:function(e){return me.onChange(e)},onNameFocus:function(e){return ue.onFocus(e)},onNameChange:function(e){return ue.onChange(e)},onPasswordFocus:function(e){return he.onFocus(e)},onPasswordChange:function(e){return he.onChange(e)},isEmailDirty:me.isDirty,isNameDirty:ue.isDirty,isPasswordDirty:he.isDirty,isEmailValid:me.isInputValid,isNameValid:ue.isInputValid,isPasswordValid:he.isInputValid})}),Object(m.jsx)(d.b,{path:"/signin",children:Object(m.jsx)(b,{onLogin:je,emailValue:me.value,formSubmitErrorMessage:J,nameValue:ue.value,passwordValue:he.value,emailErrorMessage:me.errorMessage,nameErrorMessage:ue.errorMessage,passwordErrorMessage:he.errorMessage,onEmailFocus:function(e){return me.onFocus(e)},onEmailChange:function(e){return me.onChange(e)},onNameFocus:function(e){return ue.onFocus(e)},onNameChange:function(e){return ue.onChange(e)},onPasswordFocus:function(e){return he.onFocus(e)},onPasswordChange:function(e){return he.onChange(e)},isEmailDirty:me.isDirty,isNameDirty:ue.isDirty,isPasswordDirty:he.isDirty,isEmailValid:me.isInputValid,isNameValid:ue.isInputValid,isPasswordValid:he.isInputValid})}),Object(m.jsx)(G,{component:Q,path:"/profile",nameValue:ue.value,emailValue:me.value,loggedIn:y,onEditProfile:function(e){e.name===j.name&&e.email===j.email?T("\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"):I.editProfile(e).then((function(e){T("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"),_(e)})).catch((function(e){400===e&&W("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),409===e&&W("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),500===e&&W("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}))},onSignOut:function(){_({email:"",name:""}),localStorage.clear(),K([]),I.logout().then((function(){E(!1),e.push("/")})).catch((function(e){return console.log(e)}))},profileSubmitMessage:D}),Object(m.jsx)(G,{component:q,path:"/movies",loggedIn:y,movies:Z,onSearch:function(e){var t=e.searchQuery,a=e.isShort;_e().then((function(){setTimeout((function(){return k(!1)}),1e3);var e=ge(p,{searchQuery:t,isShort:a});K(e),localStorage.setItem("lastSearchedMovies",JSON.stringify(e))}))},onFilter:ge,handleSaveOrDeleteClick:ve,isSavedCheck:pe,setIsLoading:k,isLoading:N}),Object(m.jsx)(G,{component:$,path:"/saved-movies",cardToDelete:i,isLoading:N,isDeleteCardPopupOpened:!!i,isSavedCheck:pe,loggedIn:y,onPopupClose:function(){o(null)},onSearch:function(e){setTimeout((function(){return k(!1)}),1e3);var t=JSON.parse(localStorage.getItem("savedMovies"));ae(ge(t,e))},setCardToDelete:o,setIsLoading:k,handleSaveOrDeleteClick:ve,savedMovies:te,searchResult:ie,setPreloader:k}),Object(m.jsx)(d.b,{exact:!0,path:"*",children:Object(m.jsx)(z,{})})]})})})},K=(a(57),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),i(e),o(e)}))}),X=localStorage.getItem("token");P.setupAuthorization(X),I.setupAuthorization(X),o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(c.a,{children:Object(m.jsx)(Z,{})})}),document.getElementById("root")),K()}]),[[58,1,2]]]);
//# sourceMappingURL=main.0810db05.chunk.js.map